{"ast":null,"code":"import { __decorate } from \"../tslib.es6.js\";\nimport { SerializationHelper, serialize } from \"../Misc/decorators.js\";\nimport { MaterialPluginManager } from \"./materialPluginManager.js\";\n\n/**\n * Base class for material plugins.\n * @since 5.0\n */\nexport class MaterialPluginBase {\n  _enable(enable) {\n    if (enable) {\n      this._pluginManager._activatePlugin(this);\n    }\n  }\n  /**\n   * Creates a new material plugin\n   * @param material parent material of the plugin\n   * @param name name of the plugin\n   * @param priority priority of the plugin\n   * @param defines list of defines used by the plugin. The value of the property is the default value for this property\n   * @param addToPluginList true to add the plugin to the list of plugins managed by the material plugin manager of the material (default: true)\n   * @param enable true to enable the plugin (it is handy if the plugin does not handle properties to switch its current activation)\n   * @param resolveIncludes Indicates that any #include directive in the plugin code must be replaced by the corresponding code (default: false)\n   */\n  constructor(material, name, priority, defines, addToPluginList = true, enable = false, resolveIncludes = false) {\n    /**\n     * Defines the priority of the plugin. Lower numbers run first.\n     */\n    this.priority = 500;\n    /**\n     * Indicates that any #include directive in the plugin code must be replaced by the corresponding code.\n     */\n    this.resolveIncludes = false;\n    /**\n     * Indicates that this plugin should be notified for the extra events (HasRenderTargetTextures / FillRenderTargetTextures / HardBindForSubMesh)\n     */\n    this.registerForExtraEvents = false;\n    this._material = material;\n    this.name = name;\n    this.priority = priority;\n    this.resolveIncludes = resolveIncludes;\n    if (!material.pluginManager) {\n      material.pluginManager = new MaterialPluginManager(material);\n      material.onDisposeObservable.add(() => {\n        material.pluginManager = undefined;\n      });\n    }\n    this._pluginDefineNames = defines;\n    this._pluginManager = material.pluginManager;\n    if (addToPluginList) {\n      this._pluginManager._addPlugin(this);\n    }\n    if (enable) {\n      this._enable(true);\n    }\n    this.markAllDefinesAsDirty = material._dirtyCallbacks[63];\n  }\n  /**\n   * Gets the current class name useful for serialization or dynamic coding.\n   * @returns The class name.\n   */\n  getClassName() {\n    return \"MaterialPluginBase\";\n  }\n  /**\n   * Specifies that the submesh is ready to be used.\n   * @param defines the list of \"defines\" to update.\n   * @param scene defines the scene the material belongs to.\n   * @param engine the engine this scene belongs to.\n   * @param subMesh the submesh to check for readiness\n   * @returns - boolean indicating that the submesh is ready or not.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  isReadyForSubMesh(defines, scene, engine, subMesh) {\n    return true;\n  }\n  /**\n   * Binds the material data (this function is called even if mustRebind() returns false)\n   * @param uniformBuffer defines the Uniform buffer to fill in.\n   * @param scene defines the scene the material belongs to.\n   * @param engine defines the engine the material belongs to.\n   * @param subMesh the submesh to bind data for\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  hardBindForSubMesh(uniformBuffer, scene, engine, subMesh) {}\n  /**\n   * Binds the material data.\n   * @param uniformBuffer defines the Uniform buffer to fill in.\n   * @param scene defines the scene the material belongs to.\n   * @param engine the engine this scene belongs to.\n   * @param subMesh the submesh to bind data for\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  bindForSubMesh(uniformBuffer, scene, engine, subMesh) {}\n  /**\n   * Disposes the resources of the material.\n   * @param forceDisposeTextures - Forces the disposal of all textures.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  dispose(forceDisposeTextures) {}\n  /**\n   * Returns a list of custom shader code fragments to customize the shader.\n   * @param shaderType \"vertex\" or \"fragment\"\n   * @returns null if no code to be added, or a list of pointName =\\> code.\n   * Note that `pointName` can also be a regular expression if it starts with a `!`.\n   * In that case, the string found by the regular expression (if any) will be\n   * replaced by the code provided.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getCustomCode(shaderType) {\n    return null;\n  }\n  /**\n   * Collects all defines.\n   * @param defines The object to append to.\n   */\n  collectDefines(defines) {\n    if (!this._pluginDefineNames) {\n      return;\n    }\n    for (const key of Object.keys(this._pluginDefineNames)) {\n      if (key[0] === \"_\") {\n        continue;\n      }\n      const type = typeof this._pluginDefineNames[key];\n      defines[key] = {\n        type: type === \"number\" ? \"number\" : type === \"string\" ? \"string\" : type === \"boolean\" ? \"boolean\" : \"object\",\n        default: this._pluginDefineNames[key]\n      };\n    }\n  }\n  /**\n   * Sets the defines for the next rendering. Called before MaterialHelper.PrepareDefinesForAttributes is called.\n   * @param defines the list of \"defines\" to update.\n   * @param scene defines the scene to the material belongs to.\n   * @param mesh the mesh being rendered\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  prepareDefinesBeforeAttributes(defines, scene, mesh) {}\n  /**\n   * Sets the defines for the next rendering\n   * @param defines the list of \"defines\" to update.\n   * @param scene defines the scene to the material belongs to.\n   * @param mesh the mesh being rendered\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  prepareDefines(defines, scene, mesh) {}\n  /**\n   * Checks to see if a texture is used in the material.\n   * @param texture - Base texture to use.\n   * @returns - Boolean specifying if a texture is used in the material.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  hasTexture(texture) {\n    return false;\n  }\n  /**\n   * Gets a boolean indicating that current material needs to register RTT\n   * @returns true if this uses a render target otherwise false.\n   */\n  hasRenderTargetTextures() {\n    return false;\n  }\n  /**\n   * Fills the list of render target textures.\n   * @param renderTargets the list of render targets to update\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  fillRenderTargetTextures(renderTargets) {}\n  /**\n   * Returns an array of the actively used textures.\n   * @param activeTextures Array of BaseTextures\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getActiveTextures(activeTextures) {}\n  /**\n   * Returns the animatable textures.\n   * @param animatables Array of animatable textures.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getAnimatables(animatables) {}\n  /**\n   * Add fallbacks to the effect fallbacks list.\n   * @param defines defines the Base texture to use.\n   * @param fallbacks defines the current fallback list.\n   * @param currentRank defines the current fallback rank.\n   * @returns the new fallback rank.\n   */\n  addFallbacks(defines, fallbacks, currentRank) {\n    return currentRank;\n  }\n  /**\n   * Gets the samplers used by the plugin.\n   * @param samplers list that the sampler names should be added to.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getSamplers(samplers) {}\n  /**\n   * Gets the attributes used by the plugin.\n   * @param attributes list that the attribute names should be added to.\n   * @param scene the scene that the material belongs to.\n   * @param mesh the mesh being rendered.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getAttributes(attributes, scene, mesh) {}\n  /**\n   * Gets the uniform buffers names added by the plugin.\n   * @param ubos list that the ubo names should be added to.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getUniformBuffersNames(ubos) {}\n  /**\n   * Gets the description of the uniforms to add to the ubo (if engine supports ubos) or to inject directly in the vertex/fragment shaders (if engine does not support ubos)\n   * @returns the description of the uniforms\n   */\n  getUniforms() {\n    return {};\n  }\n  /**\n   * Makes a duplicate of the current configuration into another one.\n   * @param plugin define the config where to copy the info\n   */\n  copyTo(plugin) {\n    SerializationHelper.Clone(() => plugin, this);\n  }\n  /**\n   * Serializes this plugin configuration.\n   * @returns - An object with the serialized config.\n   */\n  serialize() {\n    return SerializationHelper.Serialize(this);\n  }\n  /**\n   * Parses a plugin configuration from a serialized object.\n   * @param source - Serialized object.\n   * @param scene Defines the scene we are parsing for\n   * @param rootUrl Defines the rootUrl to load from\n   */\n  parse(source, scene, rootUrl) {\n    SerializationHelper.Parse(() => this, source, scene, rootUrl);\n  }\n}\n__decorate([serialize()], MaterialPluginBase.prototype, \"name\", void 0);\n__decorate([serialize()], MaterialPluginBase.prototype, \"priority\", void 0);\n__decorate([serialize()], MaterialPluginBase.prototype, \"resolveIncludes\", void 0);\n__decorate([serialize()], MaterialPluginBase.prototype, \"registerForExtraEvents\", void 0);","map":{"version":3,"names":["SerializationHelper","serialize","MaterialPluginManager","MaterialPluginBase","_enable","enable","_pluginManager","_activatePlugin","constructor","material","name","priority","defines","addToPluginList","resolveIncludes","registerForExtraEvents","_material","pluginManager","onDisposeObservable","add","undefined","_pluginDefineNames","_addPlugin","markAllDefinesAsDirty","_dirtyCallbacks","getClassName","isReadyForSubMesh","scene","engine","subMesh","hardBindForSubMesh","uniformBuffer","bindForSubMesh","dispose","forceDisposeTextures","getCustomCode","shaderType","collectDefines","key","Object","keys","type","default","prepareDefinesBeforeAttributes","mesh","prepareDefines","hasTexture","texture","hasRenderTargetTextures","fillRenderTargetTextures","renderTargets","getActiveTextures","activeTextures","getAnimatables","animatables","addFallbacks","fallbacks","currentRank","getSamplers","samplers","getAttributes","attributes","getUniformBuffersNames","ubos","getUniforms","copyTo","plugin","Clone","Serialize","parse","source","rootUrl","Parse","__decorate"],"sources":["../../../../dev/core/src/Materials/materialPluginBase.ts"],"sourcesContent":["import { SerializationHelper, serialize } from \"../Misc/decorators\";\r\nimport type { Nullable } from \"../types\";\r\nimport { MaterialPluginManager } from \"./materialPluginManager\";\r\nimport type { SmartArray } from \"../Misc/smartArray\";\r\nimport { Constants } from \"../Engines/constants\";\r\n\r\nimport type { Engine } from \"../Engines/engine\";\r\nimport type { Scene } from \"../scene\";\r\nimport type { AbstractMesh } from \"../Meshes/abstractMesh\";\r\nimport type { SubMesh } from \"../Meshes/subMesh\";\r\nimport type { IAnimatable } from \"../Animations/animatable.interface\";\r\nimport type { UniformBuffer } from \"./uniformBuffer\";\r\nimport type { EffectFallbacks } from \"./effectFallbacks\";\r\nimport type { MaterialDefines } from \"./materialDefines\";\r\nimport type { Material } from \"./material\";\r\nimport type { BaseTexture } from \"./Textures/baseTexture\";\r\nimport type { RenderTargetTexture } from \"./Textures/renderTargetTexture\";\r\n\r\n/**\r\n * Base class for material plugins.\r\n * @since 5.0\r\n */\r\nexport class MaterialPluginBase {\r\n    /**\r\n     * Defines the name of the plugin\r\n     */\r\n    @serialize()\r\n    public name: string;\r\n\r\n    /**\r\n     * Defines the priority of the plugin. Lower numbers run first.\r\n     */\r\n    @serialize()\r\n    public priority: number = 500;\r\n\r\n    /**\r\n     * Indicates that any #include directive in the plugin code must be replaced by the corresponding code.\r\n     */\r\n    @serialize()\r\n    public resolveIncludes: boolean = false;\r\n\r\n    /**\r\n     * Indicates that this plugin should be notified for the extra events (HasRenderTargetTextures / FillRenderTargetTextures / HardBindForSubMesh)\r\n     */\r\n    @serialize()\r\n    public registerForExtraEvents: boolean = false;\r\n\r\n    protected _material: Material;\r\n    protected _pluginManager: MaterialPluginManager;\r\n    protected _pluginDefineNames?: { [name: string]: any };\r\n\r\n    protected _enable(enable: boolean) {\r\n        if (enable) {\r\n            this._pluginManager._activatePlugin(this);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Helper function to mark defines as being dirty.\r\n     */\r\n    public readonly markAllDefinesAsDirty: () => void;\r\n\r\n    /**\r\n     * Creates a new material plugin\r\n     * @param material parent material of the plugin\r\n     * @param name name of the plugin\r\n     * @param priority priority of the plugin\r\n     * @param defines list of defines used by the plugin. The value of the property is the default value for this property\r\n     * @param addToPluginList true to add the plugin to the list of plugins managed by the material plugin manager of the material (default: true)\r\n     * @param enable true to enable the plugin (it is handy if the plugin does not handle properties to switch its current activation)\r\n     * @param resolveIncludes Indicates that any #include directive in the plugin code must be replaced by the corresponding code (default: false)\r\n     */\r\n    constructor(material: Material, name: string, priority: number, defines?: { [key: string]: any }, addToPluginList = true, enable = false, resolveIncludes = false) {\r\n        this._material = material;\r\n        this.name = name;\r\n        this.priority = priority;\r\n        this.resolveIncludes = resolveIncludes;\r\n\r\n        if (!material.pluginManager) {\r\n            material.pluginManager = new MaterialPluginManager(material);\r\n            material.onDisposeObservable.add(() => {\r\n                material.pluginManager = undefined;\r\n            });\r\n        }\r\n\r\n        this._pluginDefineNames = defines;\r\n        this._pluginManager = material.pluginManager;\r\n\r\n        if (addToPluginList) {\r\n            this._pluginManager._addPlugin(this);\r\n        }\r\n\r\n        if (enable) {\r\n            this._enable(true);\r\n        }\r\n\r\n        this.markAllDefinesAsDirty = material._dirtyCallbacks[Constants.MATERIAL_AllDirtyFlag];\r\n    }\r\n\r\n    /**\r\n     * Gets the current class name useful for serialization or dynamic coding.\r\n     * @returns The class name.\r\n     */\r\n    public getClassName(): string {\r\n        return \"MaterialPluginBase\";\r\n    }\r\n\r\n    /**\r\n     * Specifies that the submesh is ready to be used.\r\n     * @param defines the list of \"defines\" to update.\r\n     * @param scene defines the scene the material belongs to.\r\n     * @param engine the engine this scene belongs to.\r\n     * @param subMesh the submesh to check for readiness\r\n     * @returns - boolean indicating that the submesh is ready or not.\r\n     */\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    public isReadyForSubMesh(defines: MaterialDefines, scene: Scene, engine: Engine, subMesh: SubMesh): boolean {\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Binds the material data (this function is called even if mustRebind() returns false)\r\n     * @param uniformBuffer defines the Uniform buffer to fill in.\r\n     * @param scene defines the scene the material belongs to.\r\n     * @param engine defines the engine the material belongs to.\r\n     * @param subMesh the submesh to bind data for\r\n     */\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    public hardBindForSubMesh(uniformBuffer: UniformBuffer, scene: Scene, engine: Engine, subMesh: SubMesh): void {}\r\n\r\n    /**\r\n     * Binds the material data.\r\n     * @param uniformBuffer defines the Uniform buffer to fill in.\r\n     * @param scene defines the scene the material belongs to.\r\n     * @param engine the engine this scene belongs to.\r\n     * @param subMesh the submesh to bind data for\r\n     */\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    public bindForSubMesh(uniformBuffer: UniformBuffer, scene: Scene, engine: Engine, subMesh: SubMesh): void {}\r\n\r\n    /**\r\n     * Disposes the resources of the material.\r\n     * @param forceDisposeTextures - Forces the disposal of all textures.\r\n     */\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    public dispose(forceDisposeTextures?: boolean): void {}\r\n\r\n    /**\r\n     * Returns a list of custom shader code fragments to customize the shader.\r\n     * @param shaderType \"vertex\" or \"fragment\"\r\n     * @returns null if no code to be added, or a list of pointName =\\> code.\r\n     * Note that `pointName` can also be a regular expression if it starts with a `!`.\r\n     * In that case, the string found by the regular expression (if any) will be\r\n     * replaced by the code provided.\r\n     */\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    public getCustomCode(shaderType: string): Nullable<{ [pointName: string]: string }> {\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * Collects all defines.\r\n     * @param defines The object to append to.\r\n     */\r\n    public collectDefines(defines: { [name: string]: { type: string; default: any } }): void {\r\n        if (!this._pluginDefineNames) {\r\n            return;\r\n        }\r\n        for (const key of Object.keys(this._pluginDefineNames)) {\r\n            if (key[0] === \"_\") {\r\n                continue;\r\n            }\r\n\r\n            const type = typeof this._pluginDefineNames[key];\r\n            defines[key] = {\r\n                type: type === \"number\" ? \"number\" : type === \"string\" ? \"string\" : type === \"boolean\" ? \"boolean\" : \"object\",\r\n                default: this._pluginDefineNames[key],\r\n            };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sets the defines for the next rendering. Called before MaterialHelper.PrepareDefinesForAttributes is called.\r\n     * @param defines the list of \"defines\" to update.\r\n     * @param scene defines the scene to the material belongs to.\r\n     * @param mesh the mesh being rendered\r\n     */\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    public prepareDefinesBeforeAttributes(defines: MaterialDefines, scene: Scene, mesh: AbstractMesh): void {}\r\n\r\n    /**\r\n     * Sets the defines for the next rendering\r\n     * @param defines the list of \"defines\" to update.\r\n     * @param scene defines the scene to the material belongs to.\r\n     * @param mesh the mesh being rendered\r\n     */\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    public prepareDefines(defines: MaterialDefines, scene: Scene, mesh: AbstractMesh): void {}\r\n\r\n    /**\r\n     * Checks to see if a texture is used in the material.\r\n     * @param texture - Base texture to use.\r\n     * @returns - Boolean specifying if a texture is used in the material.\r\n     */\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    public hasTexture(texture: BaseTexture): boolean {\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Gets a boolean indicating that current material needs to register RTT\r\n     * @returns true if this uses a render target otherwise false.\r\n     */\r\n    public hasRenderTargetTextures(): boolean {\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Fills the list of render target textures.\r\n     * @param renderTargets the list of render targets to update\r\n     */\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    public fillRenderTargetTextures(renderTargets: SmartArray<RenderTargetTexture>): void {}\r\n\r\n    /**\r\n     * Returns an array of the actively used textures.\r\n     * @param activeTextures Array of BaseTextures\r\n     */\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    public getActiveTextures(activeTextures: BaseTexture[]): void {}\r\n\r\n    /**\r\n     * Returns the animatable textures.\r\n     * @param animatables Array of animatable textures.\r\n     */\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    public getAnimatables(animatables: IAnimatable[]): void {}\r\n\r\n    /**\r\n     * Add fallbacks to the effect fallbacks list.\r\n     * @param defines defines the Base texture to use.\r\n     * @param fallbacks defines the current fallback list.\r\n     * @param currentRank defines the current fallback rank.\r\n     * @returns the new fallback rank.\r\n     */\r\n    public addFallbacks(defines: MaterialDefines, fallbacks: EffectFallbacks, currentRank: number): number {\r\n        return currentRank;\r\n    }\r\n\r\n    /**\r\n     * Gets the samplers used by the plugin.\r\n     * @param samplers list that the sampler names should be added to.\r\n     */\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    public getSamplers(samplers: string[]): void {}\r\n\r\n    /**\r\n     * Gets the attributes used by the plugin.\r\n     * @param attributes list that the attribute names should be added to.\r\n     * @param scene the scene that the material belongs to.\r\n     * @param mesh the mesh being rendered.\r\n     */\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    public getAttributes(attributes: string[], scene: Scene, mesh: AbstractMesh): void {}\r\n\r\n    /**\r\n     * Gets the uniform buffers names added by the plugin.\r\n     * @param ubos list that the ubo names should be added to.\r\n     */\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    public getUniformBuffersNames(ubos: string[]): void {}\r\n\r\n    /**\r\n     * Gets the description of the uniforms to add to the ubo (if engine supports ubos) or to inject directly in the vertex/fragment shaders (if engine does not support ubos)\r\n     * @returns the description of the uniforms\r\n     */\r\n    public getUniforms(): { ubo?: Array<{ name: string; size?: number; type?: string; arraySize?: number }>; vertex?: string; fragment?: string } {\r\n        return {};\r\n    }\r\n\r\n    /**\r\n     * Makes a duplicate of the current configuration into another one.\r\n     * @param plugin define the config where to copy the info\r\n     */\r\n    public copyTo(plugin: MaterialPluginBase): void {\r\n        SerializationHelper.Clone(() => plugin, this);\r\n    }\r\n\r\n    /**\r\n     * Serializes this plugin configuration.\r\n     * @returns - An object with the serialized config.\r\n     */\r\n    public serialize(): any {\r\n        return SerializationHelper.Serialize(this);\r\n    }\r\n\r\n    /**\r\n     * Parses a plugin configuration from a serialized object.\r\n     * @param source - Serialized object.\r\n     * @param scene Defines the scene we are parsing for\r\n     * @param rootUrl Defines the rootUrl to load from\r\n     */\r\n    public parse(source: any, scene: Scene, rootUrl: string): void {\r\n        SerializationHelper.Parse(() => this, source, scene, rootUrl);\r\n    }\r\n}\r\n"],"mappings":";AAAA,SAASA,mBAAmB,EAAEC,SAAS,QAAQ,uBAAqB;AAEpE,SAASC,qBAAqB,QAAQ,4BAA0B;;AAgBhE;;;;AAIA,OAAM,MAAOC,kBAAkB;EA6BjBC,OAAOA,CAACC,MAAe;IAC7B,IAAIA,MAAM,EAAE;MACR,IAAI,CAACC,cAAc,CAACC,eAAe,CAAC,IAAI,CAAC;;EAEjD;EAOA;;;;;;;;;;EAUAC,YAAYC,QAAkB,EAAEC,IAAY,EAAEC,QAAgB,EAAEC,OAAgC,EAAEC,eAAe,GAAG,IAAI,EAAER,MAAM,GAAG,KAAK,EAAES,eAAe,GAAG,KAAK;IA3CjK;;;IAIO,KAAAH,QAAQ,GAAW,GAAG;IAE7B;;;IAIO,KAAAG,eAAe,GAAY,KAAK;IAEvC;;;IAIO,KAAAC,sBAAsB,GAAY,KAAK;IA4B1C,IAAI,CAACC,SAAS,GAAGP,QAAQ;IACzB,IAAI,CAACC,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACC,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACG,eAAe,GAAGA,eAAe;IAEtC,IAAI,CAACL,QAAQ,CAACQ,aAAa,EAAE;MACzBR,QAAQ,CAACQ,aAAa,GAAG,IAAIf,qBAAqB,CAACO,QAAQ,CAAC;MAC5DA,QAAQ,CAACS,mBAAmB,CAACC,GAAG,CAAC,MAAK;QAClCV,QAAQ,CAACQ,aAAa,GAAGG,SAAS;MACtC,CAAC,CAAC;;IAGN,IAAI,CAACC,kBAAkB,GAAGT,OAAO;IACjC,IAAI,CAACN,cAAc,GAAGG,QAAQ,CAACQ,aAAa;IAE5C,IAAIJ,eAAe,EAAE;MACjB,IAAI,CAACP,cAAc,CAACgB,UAAU,CAAC,IAAI,CAAC;;IAGxC,IAAIjB,MAAM,EAAE;MACR,IAAI,CAACD,OAAO,CAAC,IAAI,CAAC;;IAGtB,IAAI,CAACmB,qBAAqB,GAAGd,QAAQ,CAACe,eAAe,CAAC;EAC1D;EAEA;;;;EAIOC,YAAYA,CAAA;IACf,OAAO,oBAAoB;EAC/B;EAEA;;;;;;;;EAQA;EACOC,iBAAiBA,CAACd,OAAwB,EAAEe,KAAY,EAAEC,MAAc,EAAEC,OAAgB;IAC7F,OAAO,IAAI;EACf;EAEA;;;;;;;EAOA;EACOC,kBAAkBA,CAACC,aAA4B,EAAEJ,KAAY,EAAEC,MAAc,EAAEC,OAAgB,GAAS;EAE/G;;;;;;;EAOA;EACOG,cAAcA,CAACD,aAA4B,EAAEJ,KAAY,EAAEC,MAAc,EAAEC,OAAgB,GAAS;EAE3G;;;;EAIA;EACOI,OAAOA,CAACC,oBAA8B,GAAS;EAEtD;;;;;;;;EAQA;EACOC,aAAaA,CAACC,UAAkB;IACnC,OAAO,IAAI;EACf;EAEA;;;;EAIOC,cAAcA,CAACzB,OAA2D;IAC7E,IAAI,CAAC,IAAI,CAACS,kBAAkB,EAAE;MAC1B;;IAEJ,KAAK,MAAMiB,GAAG,IAAIC,MAAM,CAACC,IAAI,CAAC,IAAI,CAACnB,kBAAkB,CAAC,EAAE;MACpD,IAAIiB,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;QAChB;;MAGJ,MAAMG,IAAI,GAAG,OAAO,IAAI,CAACpB,kBAAkB,CAACiB,GAAG,CAAC;MAChD1B,OAAO,CAAC0B,GAAG,CAAC,GAAG;QACXG,IAAI,EAAEA,IAAI,KAAK,QAAQ,GAAG,QAAQ,GAAGA,IAAI,KAAK,QAAQ,GAAG,QAAQ,GAAGA,IAAI,KAAK,SAAS,GAAG,SAAS,GAAG,QAAQ;QAC7GC,OAAO,EAAE,IAAI,CAACrB,kBAAkB,CAACiB,GAAG;OACvC;;EAET;EAEA;;;;;;EAMA;EACOK,8BAA8BA,CAAC/B,OAAwB,EAAEe,KAAY,EAAEiB,IAAkB,GAAS;EAEzG;;;;;;EAMA;EACOC,cAAcA,CAACjC,OAAwB,EAAEe,KAAY,EAAEiB,IAAkB,GAAS;EAEzF;;;;;EAKA;EACOE,UAAUA,CAACC,OAAoB;IAClC,OAAO,KAAK;EAChB;EAEA;;;;EAIOC,uBAAuBA,CAAA;IAC1B,OAAO,KAAK;EAChB;EAEA;;;;EAIA;EACOC,wBAAwBA,CAACC,aAA8C,GAAS;EAEvF;;;;EAIA;EACOC,iBAAiBA,CAACC,cAA6B,GAAS;EAE/D;;;;EAIA;EACOC,cAAcA,CAACC,WAA0B,GAAS;EAEzD;;;;;;;EAOOC,YAAYA,CAAC3C,OAAwB,EAAE4C,SAA0B,EAAEC,WAAmB;IACzF,OAAOA,WAAW;EACtB;EAEA;;;;EAIA;EACOC,WAAWA,CAACC,QAAkB,GAAS;EAE9C;;;;;;EAMA;EACOC,aAAaA,CAACC,UAAoB,EAAElC,KAAY,EAAEiB,IAAkB,GAAS;EAEpF;;;;EAIA;EACOkB,sBAAsBA,CAACC,IAAc,GAAS;EAErD;;;;EAIOC,WAAWA,CAAA;IACd,OAAO,EAAE;EACb;EAEA;;;;EAIOC,MAAMA,CAACC,MAA0B;IACpClE,mBAAmB,CAACmE,KAAK,CAAC,MAAMD,MAAM,EAAE,IAAI,CAAC;EACjD;EAEA;;;;EAIOjE,SAASA,CAAA;IACZ,OAAOD,mBAAmB,CAACoE,SAAS,CAAC,IAAI,CAAC;EAC9C;EAEA;;;;;;EAMOC,KAAKA,CAACC,MAAW,EAAE3C,KAAY,EAAE4C,OAAe;IACnDvE,mBAAmB,CAACwE,KAAK,CAAC,MAAM,IAAI,EAAEF,MAAM,EAAE3C,KAAK,EAAE4C,OAAO,CAAC;EACjE;;AArROE,UAAA,EADNxE,SAAS,EAAE,C,+CACQ;AAMbwE,UAAA,EADNxE,SAAS,EAAE,C,mDACkB;AAMvBwE,UAAA,EADNxE,SAAS,EAAE,C,0DAC4B;AAMjCwE,UAAA,EADNxE,SAAS,EAAE,C,iEACmC"},"metadata":{},"sourceType":"module","externalDependencies":[]}