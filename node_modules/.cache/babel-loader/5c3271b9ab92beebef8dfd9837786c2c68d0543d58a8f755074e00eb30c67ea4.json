{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { InternalTexture, InternalTextureSource } from \"../../../Materials/Textures/internalTexture.js\";\nimport { WebGPUEngine } from \"../../webgpuEngine.js\";\nimport { WebGPURenderTargetWrapper } from \"../webgpuRenderTargetWrapper.js\";\nWebGPUEngine.prototype._createHardwareRenderTargetWrapper = function (isMulti, isCube, size) {\n  const rtWrapper = new WebGPURenderTargetWrapper(isMulti, isCube, size, this);\n  this._renderTargetWrapperCache.push(rtWrapper);\n  return rtWrapper;\n};\nWebGPUEngine.prototype.createRenderTargetTexture = function (size, options) {\n  var _a, _b, _c;\n  const rtWrapper = this._createHardwareRenderTargetWrapper(false, false, size);\n  const fullOptions = {};\n  if (options !== undefined && typeof options === \"object\") {\n    fullOptions.generateMipMaps = options.generateMipMaps;\n    fullOptions.generateDepthBuffer = options.generateDepthBuffer === undefined ? true : options.generateDepthBuffer;\n    fullOptions.generateStencilBuffer = fullOptions.generateDepthBuffer && options.generateStencilBuffer;\n    fullOptions.samplingMode = options.samplingMode === undefined ? 3 : options.samplingMode;\n    fullOptions.creationFlags = (_a = options.creationFlags) !== null && _a !== void 0 ? _a : 0;\n    fullOptions.noColorAttachment = !!options.noColorAttachment;\n    fullOptions.samples = options.samples;\n    fullOptions.label = options.label;\n  } else {\n    fullOptions.generateMipMaps = options;\n    fullOptions.generateDepthBuffer = true;\n    fullOptions.generateStencilBuffer = false;\n    fullOptions.samplingMode = 3;\n    fullOptions.creationFlags = 0;\n    fullOptions.noColorAttachment = false;\n  }\n  const texture = fullOptions.noColorAttachment ? null : this._createInternalTexture(size, options, true, InternalTextureSource.RenderTarget);\n  rtWrapper.label = (_b = fullOptions.label) !== null && _b !== void 0 ? _b : \"RenderTargetWrapper\";\n  rtWrapper._samples = (_c = fullOptions.samples) !== null && _c !== void 0 ? _c : 1;\n  rtWrapper._generateDepthBuffer = fullOptions.generateDepthBuffer;\n  rtWrapper._generateStencilBuffer = fullOptions.generateStencilBuffer ? true : false;\n  rtWrapper.setTextures(texture);\n  if (rtWrapper._generateDepthBuffer || rtWrapper._generateStencilBuffer) {\n    rtWrapper.createDepthStencilTexture(0, this._caps.textureFloatLinearFiltering && (fullOptions.samplingMode === undefined || fullOptions.samplingMode === 2 || fullOptions.samplingMode === 2 || fullOptions.samplingMode === 3 || fullOptions.samplingMode === 3 || fullOptions.samplingMode === 5 || fullOptions.samplingMode === 6 || fullOptions.samplingMode === 7 || fullOptions.samplingMode === 11), rtWrapper._generateStencilBuffer, rtWrapper.samples, fullOptions.generateStencilBuffer ? 13 : 14, fullOptions.label ? fullOptions.label + \"-DepthStencil\" : undefined);\n  }\n  if (texture) {\n    if (options !== undefined && typeof options === \"object\" && options.createMipMaps && !fullOptions.generateMipMaps) {\n      texture.generateMipMaps = true;\n    }\n    this._textureHelper.createGPUTextureForInternalTexture(texture, undefined, undefined, undefined, fullOptions.creationFlags);\n    if (options !== undefined && typeof options === \"object\" && options.createMipMaps && !fullOptions.generateMipMaps) {\n      texture.generateMipMaps = false;\n    }\n  }\n  return rtWrapper;\n};\nWebGPUEngine.prototype._createDepthStencilTexture = function (size, options) {\n  const internalTexture = new InternalTexture(this, InternalTextureSource.DepthStencil);\n  internalTexture.label = options.label;\n  const internalOptions = Object.assign({\n    bilinearFiltering: false,\n    comparisonFunction: 0,\n    generateStencil: false,\n    samples: 1,\n    depthTextureFormat: options.generateStencil ? 13 : 14\n  }, options);\n  internalTexture.format = internalOptions.depthTextureFormat;\n  this._setupDepthStencilTexture(internalTexture, size, internalOptions.generateStencil, internalOptions.bilinearFiltering, internalOptions.comparisonFunction, internalOptions.samples);\n  this._textureHelper.createGPUTextureForInternalTexture(internalTexture);\n  this._internalTexturesCache.push(internalTexture);\n  return internalTexture;\n};\nWebGPUEngine.prototype._setupDepthStencilTexture = function (internalTexture, size, generateStencil, bilinearFiltering, comparisonFunction, samples = 1) {\n  const width = size.width || size;\n  const height = size.height || size;\n  const layers = size.layers || 0;\n  internalTexture.baseWidth = width;\n  internalTexture.baseHeight = height;\n  internalTexture.width = width;\n  internalTexture.height = height;\n  internalTexture.is2DArray = layers > 0;\n  internalTexture.depth = layers;\n  internalTexture.isReady = true;\n  internalTexture.samples = samples;\n  internalTexture.generateMipMaps = false;\n  internalTexture.samplingMode = bilinearFiltering ? 2 : 1;\n  internalTexture.type = 1;\n  internalTexture._comparisonFunction = comparisonFunction;\n  internalTexture._cachedWrapU = 0;\n  internalTexture._cachedWrapV = 0;\n};\nWebGPUEngine.prototype.updateRenderTargetTextureSampleCount = function (rtWrapper, samples) {\n  if (!rtWrapper || !rtWrapper.texture || rtWrapper.samples === samples) {\n    return samples;\n  }\n  samples = Math.min(samples, this.getCaps().maxMSAASamples);\n  this._textureHelper.createMSAATexture(rtWrapper.texture, samples);\n  if (rtWrapper._depthStencilTexture) {\n    this._textureHelper.createMSAATexture(rtWrapper._depthStencilTexture, samples);\n    rtWrapper._depthStencilTexture.samples = samples;\n  }\n  rtWrapper._samples = samples;\n  rtWrapper.texture.samples = samples;\n  return samples;\n};","map":{"version":3,"names":["InternalTexture","InternalTextureSource","WebGPUEngine","WebGPURenderTargetWrapper","prototype","_createHardwareRenderTargetWrapper","isMulti","isCube","size","rtWrapper","_renderTargetWrapperCache","push","createRenderTargetTexture","options","fullOptions","undefined","generateMipMaps","generateDepthBuffer","generateStencilBuffer","samplingMode","creationFlags","_a","noColorAttachment","samples","label","texture","_createInternalTexture","RenderTarget","_b","_samples","_c","_generateDepthBuffer","_generateStencilBuffer","setTextures","createDepthStencilTexture","_caps","textureFloatLinearFiltering","createMipMaps","_textureHelper","createGPUTextureForInternalTexture","_createDepthStencilTexture","internalTexture","DepthStencil","internalOptions","Object","assign","bilinearFiltering","comparisonFunction","generateStencil","depthTextureFormat","format","_setupDepthStencilTexture","_internalTexturesCache","width","height","layers","baseWidth","baseHeight","is2DArray","depth","isReady","type","_comparisonFunction","_cachedWrapU","_cachedWrapV","updateRenderTargetTextureSampleCount","Math","min","getCaps","maxMSAASamples","createMSAATexture","_depthStencilTexture"],"sources":["../../../../../../dev/core/src/Engines/WebGPU/Extensions/engine.renderTarget.ts"],"sourcesContent":["import { InternalTexture, InternalTextureSource } from \"../../../Materials/Textures/internalTexture\";\r\nimport type { RenderTargetCreationOptions, DepthTextureCreationOptions, TextureSize } from \"../../../Materials/Textures/textureCreationOptions\";\r\nimport type { Nullable } from \"../../../types\";\r\nimport { Constants } from \"../../constants\";\r\nimport type { RenderTargetWrapper } from \"../../renderTargetWrapper\";\r\nimport { WebGPUEngine } from \"../../webgpuEngine\";\r\nimport { WebGPURenderTargetWrapper } from \"../webgpuRenderTargetWrapper\";\r\n\r\nWebGPUEngine.prototype._createHardwareRenderTargetWrapper = function (isMulti: boolean, isCube: boolean, size: TextureSize): WebGPURenderTargetWrapper {\r\n    const rtWrapper = new WebGPURenderTargetWrapper(isMulti, isCube, size, this);\r\n    this._renderTargetWrapperCache.push(rtWrapper);\r\n    return rtWrapper;\r\n};\r\n\r\nWebGPUEngine.prototype.createRenderTargetTexture = function (size: TextureSize, options: boolean | RenderTargetCreationOptions): WebGPURenderTargetWrapper {\r\n    const rtWrapper = this._createHardwareRenderTargetWrapper(false, false, size) as WebGPURenderTargetWrapper;\r\n\r\n    const fullOptions: RenderTargetCreationOptions = {};\r\n\r\n    if (options !== undefined && typeof options === \"object\") {\r\n        fullOptions.generateMipMaps = options.generateMipMaps;\r\n        fullOptions.generateDepthBuffer = options.generateDepthBuffer === undefined ? true : options.generateDepthBuffer;\r\n        fullOptions.generateStencilBuffer = fullOptions.generateDepthBuffer && options.generateStencilBuffer;\r\n        fullOptions.samplingMode = options.samplingMode === undefined ? Constants.TEXTURE_TRILINEAR_SAMPLINGMODE : options.samplingMode;\r\n        fullOptions.creationFlags = options.creationFlags ?? 0;\r\n        fullOptions.noColorAttachment = !!options.noColorAttachment;\r\n        fullOptions.samples = options.samples;\r\n        fullOptions.label = options.label;\r\n    } else {\r\n        fullOptions.generateMipMaps = <boolean>options;\r\n        fullOptions.generateDepthBuffer = true;\r\n        fullOptions.generateStencilBuffer = false;\r\n        fullOptions.samplingMode = Constants.TEXTURE_TRILINEAR_SAMPLINGMODE;\r\n        fullOptions.creationFlags = 0;\r\n        fullOptions.noColorAttachment = false;\r\n    }\r\n\r\n    const texture = fullOptions.noColorAttachment ? null : this._createInternalTexture(size, options, true, InternalTextureSource.RenderTarget);\r\n\r\n    rtWrapper.label = fullOptions.label ?? \"RenderTargetWrapper\";\r\n    rtWrapper._samples = fullOptions.samples ?? 1;\r\n    rtWrapper._generateDepthBuffer = fullOptions.generateDepthBuffer;\r\n    rtWrapper._generateStencilBuffer = fullOptions.generateStencilBuffer ? true : false;\r\n\r\n    rtWrapper.setTextures(texture);\r\n\r\n    if (rtWrapper._generateDepthBuffer || rtWrapper._generateStencilBuffer) {\r\n        rtWrapper.createDepthStencilTexture(\r\n            0,\r\n            this._caps.textureFloatLinearFiltering &&\r\n                (fullOptions.samplingMode === undefined ||\r\n                    fullOptions.samplingMode === Constants.TEXTURE_BILINEAR_SAMPLINGMODE ||\r\n                    fullOptions.samplingMode === Constants.TEXTURE_LINEAR_LINEAR ||\r\n                    fullOptions.samplingMode === Constants.TEXTURE_TRILINEAR_SAMPLINGMODE ||\r\n                    fullOptions.samplingMode === Constants.TEXTURE_LINEAR_LINEAR_MIPLINEAR ||\r\n                    fullOptions.samplingMode === Constants.TEXTURE_NEAREST_LINEAR_MIPNEAREST ||\r\n                    fullOptions.samplingMode === Constants.TEXTURE_NEAREST_LINEAR_MIPLINEAR ||\r\n                    fullOptions.samplingMode === Constants.TEXTURE_NEAREST_LINEAR ||\r\n                    fullOptions.samplingMode === Constants.TEXTURE_LINEAR_LINEAR_MIPNEAREST),\r\n            rtWrapper._generateStencilBuffer,\r\n            rtWrapper.samples,\r\n            fullOptions.generateStencilBuffer ? Constants.TEXTUREFORMAT_DEPTH24_STENCIL8 : Constants.TEXTUREFORMAT_DEPTH32_FLOAT,\r\n            fullOptions.label ? fullOptions.label + \"-DepthStencil\" : undefined\r\n        );\r\n    }\r\n\r\n    if (texture) {\r\n        if (options !== undefined && typeof options === \"object\" && options.createMipMaps && !fullOptions.generateMipMaps) {\r\n            texture.generateMipMaps = true;\r\n        }\r\n\r\n        this._textureHelper.createGPUTextureForInternalTexture(texture, undefined, undefined, undefined, fullOptions.creationFlags);\r\n\r\n        if (options !== undefined && typeof options === \"object\" && options.createMipMaps && !fullOptions.generateMipMaps) {\r\n            texture.generateMipMaps = false;\r\n        }\r\n    }\r\n\r\n    return rtWrapper;\r\n};\r\n\r\nWebGPUEngine.prototype._createDepthStencilTexture = function (size: TextureSize, options: DepthTextureCreationOptions): InternalTexture {\r\n    const internalTexture = new InternalTexture(this, InternalTextureSource.DepthStencil);\r\n\r\n    internalTexture.label = options.label;\r\n\r\n    const internalOptions = {\r\n        bilinearFiltering: false,\r\n        comparisonFunction: 0,\r\n        generateStencil: false,\r\n        samples: 1,\r\n        depthTextureFormat: options.generateStencil ? Constants.TEXTUREFORMAT_DEPTH24_STENCIL8 : Constants.TEXTUREFORMAT_DEPTH32_FLOAT,\r\n        ...options,\r\n    };\r\n\r\n    internalTexture.format = internalOptions.depthTextureFormat;\r\n\r\n    this._setupDepthStencilTexture(\r\n        internalTexture,\r\n        size,\r\n        internalOptions.generateStencil,\r\n        internalOptions.bilinearFiltering,\r\n        internalOptions.comparisonFunction,\r\n        internalOptions.samples\r\n    );\r\n\r\n    this._textureHelper.createGPUTextureForInternalTexture(internalTexture);\r\n\r\n    this._internalTexturesCache.push(internalTexture);\r\n\r\n    return internalTexture;\r\n};\r\n\r\nWebGPUEngine.prototype._setupDepthStencilTexture = function (\r\n    internalTexture: InternalTexture,\r\n    size: TextureSize,\r\n    generateStencil: boolean,\r\n    bilinearFiltering: boolean,\r\n    comparisonFunction: number,\r\n    samples = 1\r\n): void {\r\n    const width = (<{ width: number; height: number; layers?: number }>size).width || <number>size;\r\n    const height = (<{ width: number; height: number; layers?: number }>size).height || <number>size;\r\n    const layers = (<{ width: number; height: number; layers?: number }>size).layers || 0;\r\n\r\n    internalTexture.baseWidth = width;\r\n    internalTexture.baseHeight = height;\r\n    internalTexture.width = width;\r\n    internalTexture.height = height;\r\n    internalTexture.is2DArray = layers > 0;\r\n    internalTexture.depth = layers;\r\n    internalTexture.isReady = true;\r\n    internalTexture.samples = samples;\r\n    internalTexture.generateMipMaps = false;\r\n    internalTexture.samplingMode = bilinearFiltering ? Constants.TEXTURE_BILINEAR_SAMPLINGMODE : Constants.TEXTURE_NEAREST_SAMPLINGMODE;\r\n    internalTexture.type = Constants.TEXTURETYPE_FLOAT;\r\n    internalTexture._comparisonFunction = comparisonFunction;\r\n    internalTexture._cachedWrapU = Constants.TEXTURE_CLAMP_ADDRESSMODE;\r\n    internalTexture._cachedWrapV = Constants.TEXTURE_CLAMP_ADDRESSMODE;\r\n};\r\n\r\nWebGPUEngine.prototype.updateRenderTargetTextureSampleCount = function (rtWrapper: Nullable<RenderTargetWrapper>, samples: number): number {\r\n    if (!rtWrapper || !rtWrapper.texture || rtWrapper.samples === samples) {\r\n        return samples;\r\n    }\r\n\r\n    samples = Math.min(samples, this.getCaps().maxMSAASamples);\r\n\r\n    this._textureHelper.createMSAATexture(rtWrapper.texture, samples);\r\n\r\n    if (rtWrapper._depthStencilTexture) {\r\n        this._textureHelper.createMSAATexture(rtWrapper._depthStencilTexture, samples);\r\n        rtWrapper._depthStencilTexture.samples = samples;\r\n    }\r\n\r\n    rtWrapper._samples = samples;\r\n    rtWrapper.texture.samples = samples;\r\n\r\n    return samples;\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}