{"ast":null,"code":"import { RichTypeString, RichTypeAny } from \"../../flowGraphRichTypes.js\";\nimport { FlowGraphWithOnDoneExecutionBlock } from \"../../flowGraphWithOnDoneExecutionBlock.js\";\nimport { RegisterClass } from \"../../../Misc/typeStore.js\";\n/**\n * Block to set a variable.\n * @experimental\n */\nexport class FlowGraphSetVariableBlock extends FlowGraphWithOnDoneExecutionBlock {\n  constructor(config) {\n    super(config);\n    this.variableName = this._registerDataInput(\"variableName\", RichTypeString);\n    this.input = this._registerDataInput(\"input\", RichTypeAny);\n  }\n  _execute(context) {\n    const variableNameValue = this.variableName.getValue(context);\n    const inputValue = this.input.getValue(context);\n    context.setVariable(variableNameValue, inputValue);\n    this.onDone._activateSignal(context);\n  }\n  getClassName() {\n    return \"FGSetVariableBlock\";\n  }\n}\nRegisterClass(\"FGSetVariableBlock\", FlowGraphSetVariableBlock);","map":{"version":3,"names":["RichTypeString","RichTypeAny","FlowGraphWithOnDoneExecutionBlock","RegisterClass","FlowGraphSetVariableBlock","constructor","config","variableName","_registerDataInput","input","_execute","context","variableNameValue","getValue","inputValue","setVariable","onDone","_activateSignal","getClassName"],"sources":["../../../../../../dev/core/src/FlowGraph/Blocks/Execution/flowGraphSetVariableBlock.ts"],"sourcesContent":["import { RichTypeString, RichTypeAny } from \"../../flowGraphRichTypes\";\r\nimport type { FlowGraphContext } from \"../../flowGraphContext\";\r\nimport type { FlowGraphDataConnection } from \"../../flowGraphDataConnection\";\r\nimport { FlowGraphWithOnDoneExecutionBlock } from \"../../flowGraphWithOnDoneExecutionBlock\";\r\nimport { RegisterClass } from \"core/Misc/typeStore\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../flowGraphBlock\";\r\n\r\n/**\r\n * Block to set a variable.\r\n * @experimental\r\n */\r\nexport class FlowGraphSetVariableBlock<T> extends FlowGraphWithOnDoneExecutionBlock {\r\n    /**\r\n     * Input connection: The name of the variable to set.\r\n     */\r\n    public readonly variableName: FlowGraphDataConnection<string>;\r\n    /**\r\n     * Input connection: The value to set on the variable.\r\n     */\r\n    public readonly input: FlowGraphDataConnection<T>;\r\n\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(config);\r\n\r\n        this.variableName = this._registerDataInput(\"variableName\", RichTypeString);\r\n        this.input = this._registerDataInput(\"input\", RichTypeAny);\r\n    }\r\n\r\n    public _execute(context: FlowGraphContext): void {\r\n        const variableNameValue = this.variableName.getValue(context);\r\n        const inputValue = this.input.getValue(context);\r\n        context.setVariable(variableNameValue, inputValue);\r\n        this.onDone._activateSignal(context);\r\n    }\r\n\r\n    public getClassName(): string {\r\n        return \"FGSetVariableBlock\";\r\n    }\r\n}\r\nRegisterClass(\"FGSetVariableBlock\", FlowGraphSetVariableBlock);\r\n"],"mappings":"AAAA,SAASA,cAAc,EAAEC,WAAW,QAAQ,6BAA2B;AAGvE,SAASC,iCAAiC,QAAQ,4CAA0C;AAC5F,SAASC,aAAa,QAAE;AAGxB;;;;AAIA,OAAM,MAAOC,yBAA6B,SAAQF,iCAAiC;EAU/EG,YAAYC,MAAqC;IAC7C,KAAK,CAACA,MAAM,CAAC;IAEb,IAAI,CAACC,YAAY,GAAG,IAAI,CAACC,kBAAkB,CAAC,cAAc,EAAER,cAAc,CAAC;IAC3E,IAAI,CAACS,KAAK,GAAG,IAAI,CAACD,kBAAkB,CAAC,OAAO,EAAEP,WAAW,CAAC;EAC9D;EAEOS,QAAQA,CAACC,OAAyB;IACrC,MAAMC,iBAAiB,GAAG,IAAI,CAACL,YAAY,CAACM,QAAQ,CAACF,OAAO,CAAC;IAC7D,MAAMG,UAAU,GAAG,IAAI,CAACL,KAAK,CAACI,QAAQ,CAACF,OAAO,CAAC;IAC/CA,OAAO,CAACI,WAAW,CAACH,iBAAiB,EAAEE,UAAU,CAAC;IAClD,IAAI,CAACE,MAAM,CAACC,eAAe,CAACN,OAAO,CAAC;EACxC;EAEOO,YAAYA,CAAA;IACf,OAAO,oBAAoB;EAC/B;;AAEJf,aAAa,CAAC,oBAAoB,EAAEC,yBAAyB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}