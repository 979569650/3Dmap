{"ast":null,"code":"import { __decorate } from \"../../../tslib.es6.js\";\nimport { NodeMaterialBlock } from \"../nodeMaterialBlock.js\";\nimport { NodeMaterialBlockConnectionPointTypes } from \"../Enums/nodeMaterialBlockConnectionPointTypes.js\";\nimport { NodeMaterialBlockTargets } from \"../Enums/nodeMaterialBlockTargets.js\";\nimport { RegisterClass } from \"../../../Misc/typeStore.js\";\nimport { editableInPropertyPage, PropertyTypeForEdition } from \"../../../Decorators/nodeDecorator.js\";\n/**\n * Block used to clamp a float\n */\nexport class ClampBlock extends NodeMaterialBlock {\n  /**\n   * Creates a new ClampBlock\n   * @param name defines the block name\n   */\n  constructor(name) {\n    super(name, NodeMaterialBlockTargets.Neutral);\n    /** Gets or sets the minimum range */\n    this.minimum = 0.0;\n    /** Gets or sets the maximum range */\n    this.maximum = 1.0;\n    this.registerInput(\"value\", NodeMaterialBlockConnectionPointTypes.AutoDetect);\n    this.registerOutput(\"output\", NodeMaterialBlockConnectionPointTypes.BasedOnInput);\n    this._outputs[0]._typeConnectionSource = this._inputs[0];\n  }\n  /**\n   * Gets the current class name\n   * @returns the class name\n   */\n  getClassName() {\n    return \"ClampBlock\";\n  }\n  /**\n   * Gets the value input component\n   */\n  get value() {\n    return this._inputs[0];\n  }\n  /**\n   * Gets the output component\n   */\n  get output() {\n    return this._outputs[0];\n  }\n  _buildBlock(state) {\n    super._buildBlock(state);\n    const output = this._outputs[0];\n    state.compilationString += this._declareOutput(output, state) + ` = clamp(${this.value.associatedVariableName}, ${this._writeFloat(this.minimum)}, ${this._writeFloat(this.maximum)});\\n`;\n    return this;\n  }\n  _dumpPropertiesCode() {\n    let codeString = super._dumpPropertiesCode() + `${this._codeVariableName}.minimum = ${this.minimum};\\n`;\n    codeString += `${this._codeVariableName}.maximum = ${this.maximum};\\n`;\n    return codeString;\n  }\n  serialize() {\n    const serializationObject = super.serialize();\n    serializationObject.minimum = this.minimum;\n    serializationObject.maximum = this.maximum;\n    return serializationObject;\n  }\n  _deserialize(serializationObject, scene, rootUrl) {\n    super._deserialize(serializationObject, scene, rootUrl);\n    this.minimum = serializationObject.minimum;\n    this.maximum = serializationObject.maximum;\n  }\n}\n__decorate([editableInPropertyPage(\"Minimum\", PropertyTypeForEdition.Float)], ClampBlock.prototype, \"minimum\", void 0);\n__decorate([editableInPropertyPage(\"Maximum\", PropertyTypeForEdition.Float)], ClampBlock.prototype, \"maximum\", void 0);\nRegisterClass(\"BABYLON.ClampBlock\", ClampBlock);","map":{"version":3,"names":["NodeMaterialBlock","NodeMaterialBlockConnectionPointTypes","NodeMaterialBlockTargets","RegisterClass","editableInPropertyPage","PropertyTypeForEdition","ClampBlock","constructor","name","Neutral","minimum","maximum","registerInput","AutoDetect","registerOutput","BasedOnInput","_outputs","_typeConnectionSource","_inputs","getClassName","value","output","_buildBlock","state","compilationString","_declareOutput","associatedVariableName","_writeFloat","_dumpPropertiesCode","codeString","_codeVariableName","serialize","serializationObject","_deserialize","scene","rootUrl","__decorate","Float"],"sources":["../../../../../../dev/core/src/Materials/Node/Blocks/clampBlock.ts"],"sourcesContent":["import { NodeMaterialBlock } from \"../nodeMaterialBlock\";\r\nimport { NodeMaterialBlockConnectionPointTypes } from \"../Enums/nodeMaterialBlockConnectionPointTypes\";\r\nimport type { NodeMaterialBuildState } from \"../nodeMaterialBuildState\";\r\nimport type { NodeMaterialConnectionPoint } from \"../nodeMaterialBlockConnectionPoint\";\r\nimport { NodeMaterialBlockTargets } from \"../Enums/nodeMaterialBlockTargets\";\r\nimport { RegisterClass } from \"../../../Misc/typeStore\";\r\nimport type { Scene } from \"../../../scene\";\r\nimport { editableInPropertyPage, PropertyTypeForEdition } from \"../../../Decorators/nodeDecorator\";\r\n\r\n/**\r\n * Block used to clamp a float\r\n */\r\nexport class ClampBlock extends NodeMaterialBlock {\r\n    /** Gets or sets the minimum range */\r\n    @editableInPropertyPage(\"Minimum\", PropertyTypeForEdition.Float)\r\n    public minimum = 0.0;\r\n    /** Gets or sets the maximum range */\r\n    @editableInPropertyPage(\"Maximum\", PropertyTypeForEdition.Float)\r\n    public maximum = 1.0;\r\n\r\n    /**\r\n     * Creates a new ClampBlock\r\n     * @param name defines the block name\r\n     */\r\n    public constructor(name: string) {\r\n        super(name, NodeMaterialBlockTargets.Neutral);\r\n\r\n        this.registerInput(\"value\", NodeMaterialBlockConnectionPointTypes.AutoDetect);\r\n        this.registerOutput(\"output\", NodeMaterialBlockConnectionPointTypes.BasedOnInput);\r\n\r\n        this._outputs[0]._typeConnectionSource = this._inputs[0];\r\n    }\r\n\r\n    /**\r\n     * Gets the current class name\r\n     * @returns the class name\r\n     */\r\n    public getClassName() {\r\n        return \"ClampBlock\";\r\n    }\r\n\r\n    /**\r\n     * Gets the value input component\r\n     */\r\n    public get value(): NodeMaterialConnectionPoint {\r\n        return this._inputs[0];\r\n    }\r\n\r\n    /**\r\n     * Gets the output component\r\n     */\r\n    public get output(): NodeMaterialConnectionPoint {\r\n        return this._outputs[0];\r\n    }\r\n\r\n    protected _buildBlock(state: NodeMaterialBuildState) {\r\n        super._buildBlock(state);\r\n\r\n        const output = this._outputs[0];\r\n\r\n        state.compilationString +=\r\n            this._declareOutput(output, state) + ` = clamp(${this.value.associatedVariableName}, ${this._writeFloat(this.minimum)}, ${this._writeFloat(this.maximum)});\\n`;\r\n\r\n        return this;\r\n    }\r\n\r\n    protected _dumpPropertiesCode() {\r\n        let codeString = super._dumpPropertiesCode() + `${this._codeVariableName}.minimum = ${this.minimum};\\n`;\r\n\r\n        codeString += `${this._codeVariableName}.maximum = ${this.maximum};\\n`;\r\n\r\n        return codeString;\r\n    }\r\n\r\n    public serialize(): any {\r\n        const serializationObject = super.serialize();\r\n\r\n        serializationObject.minimum = this.minimum;\r\n        serializationObject.maximum = this.maximum;\r\n\r\n        return serializationObject;\r\n    }\r\n\r\n    public _deserialize(serializationObject: any, scene: Scene, rootUrl: string) {\r\n        super._deserialize(serializationObject, scene, rootUrl);\r\n\r\n        this.minimum = serializationObject.minimum;\r\n        this.maximum = serializationObject.maximum;\r\n    }\r\n}\r\n\r\nRegisterClass(\"BABYLON.ClampBlock\", ClampBlock);\r\n"],"mappings":";AAAA,SAASA,iBAAiB,QAAQ,yBAAuB;AACzD,SAASC,qCAAqC,QAAQ,mDAAiD;AAGvG,SAASC,wBAAwB,QAAQ,sCAAoC;AAC7E,SAASC,aAAa,QAAQ,4BAA0B;AAExD,SAASC,sBAAsB,EAAEC,sBAAsB,QAAQ,sCAAoC;AAEnG;;;AAGA,OAAM,MAAOC,UAAW,SAAQN,iBAAiB;EAQ7C;;;;EAIAO,YAAmBC,IAAY;IAC3B,KAAK,CAACA,IAAI,EAAEN,wBAAwB,CAACO,OAAO,CAAC;IAZjD;IAEO,KAAAC,OAAO,GAAG,GAAG;IACpB;IAEO,KAAAC,OAAO,GAAG,GAAG;IAShB,IAAI,CAACC,aAAa,CAAC,OAAO,EAAEX,qCAAqC,CAACY,UAAU,CAAC;IAC7E,IAAI,CAACC,cAAc,CAAC,QAAQ,EAAEb,qCAAqC,CAACc,YAAY,CAAC;IAEjF,IAAI,CAACC,QAAQ,CAAC,CAAC,CAAC,CAACC,qBAAqB,GAAG,IAAI,CAACC,OAAO,CAAC,CAAC,CAAC;EAC5D;EAEA;;;;EAIOC,YAAYA,CAAA;IACf,OAAO,YAAY;EACvB;EAEA;;;EAGA,IAAWC,KAAKA,CAAA;IACZ,OAAO,IAAI,CAACF,OAAO,CAAC,CAAC,CAAC;EAC1B;EAEA;;;EAGA,IAAWG,MAAMA,CAAA;IACb,OAAO,IAAI,CAACL,QAAQ,CAAC,CAAC,CAAC;EAC3B;EAEUM,WAAWA,CAACC,KAA6B;IAC/C,KAAK,CAACD,WAAW,CAACC,KAAK,CAAC;IAExB,MAAMF,MAAM,GAAG,IAAI,CAACL,QAAQ,CAAC,CAAC,CAAC;IAE/BO,KAAK,CAACC,iBAAiB,IACnB,IAAI,CAACC,cAAc,CAACJ,MAAM,EAAEE,KAAK,CAAC,GAAG,YAAY,IAAI,CAACH,KAAK,CAACM,sBAAsB,KAAK,IAAI,CAACC,WAAW,CAAC,IAAI,CAACjB,OAAO,CAAC,KAAK,IAAI,CAACiB,WAAW,CAAC,IAAI,CAAChB,OAAO,CAAC,MAAM;IAElK,OAAO,IAAI;EACf;EAEUiB,mBAAmBA,CAAA;IACzB,IAAIC,UAAU,GAAG,KAAK,CAACD,mBAAmB,EAAE,GAAG,GAAG,IAAI,CAACE,iBAAiB,cAAc,IAAI,CAACpB,OAAO,KAAK;IAEvGmB,UAAU,IAAI,GAAG,IAAI,CAACC,iBAAiB,cAAc,IAAI,CAACnB,OAAO,KAAK;IAEtE,OAAOkB,UAAU;EACrB;EAEOE,SAASA,CAAA;IACZ,MAAMC,mBAAmB,GAAG,KAAK,CAACD,SAAS,EAAE;IAE7CC,mBAAmB,CAACtB,OAAO,GAAG,IAAI,CAACA,OAAO;IAC1CsB,mBAAmB,CAACrB,OAAO,GAAG,IAAI,CAACA,OAAO;IAE1C,OAAOqB,mBAAmB;EAC9B;EAEOC,YAAYA,CAACD,mBAAwB,EAAEE,KAAY,EAAEC,OAAe;IACvE,KAAK,CAACF,YAAY,CAACD,mBAAmB,EAAEE,KAAK,EAAEC,OAAO,CAAC;IAEvD,IAAI,CAACzB,OAAO,GAAGsB,mBAAmB,CAACtB,OAAO;IAC1C,IAAI,CAACC,OAAO,GAAGqB,mBAAmB,CAACrB,OAAO;EAC9C;;AAzEOyB,UAAA,EADNhC,sBAAsB,CAAC,SAAS,EAAEC,sBAAsB,CAACgC,KAAK,CAAC,C,0CAC3C;AAGdD,UAAA,EADNhC,sBAAsB,CAAC,SAAS,EAAEC,sBAAsB,CAACgC,KAAK,CAAC,C,0CAC3C;AAyEzBlC,aAAa,CAAC,oBAAoB,EAAEG,UAAU,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}