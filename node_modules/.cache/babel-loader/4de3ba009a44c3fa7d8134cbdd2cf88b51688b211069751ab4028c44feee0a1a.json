{"ast":null,"code":"import { Observable } from \"../Misc/observable.js\";\nimport { Tools } from \"../Misc/tools.js\";\nimport { WebXRWebGLLayerWrapper } from \"./webXRWebGLLayer.js\";\n/**\n * Configuration object for WebXR output canvas\n */\nexport class WebXRManagedOutputCanvasOptions {\n  /**\n   * Get the default values of the configuration object\n   * @param engine defines the engine to use (can be null)\n   * @returns default values of this configuration object\n   */\n  static GetDefaults(engine) {\n    const defaults = new WebXRManagedOutputCanvasOptions();\n    defaults.canvasOptions = {\n      antialias: true,\n      depth: true,\n      stencil: engine ? engine.isStencilEnable : true,\n      alpha: true,\n      framebufferScaleFactor: 1\n    };\n    defaults.newCanvasCssStyle = \"position:absolute; bottom:0px;right:0px;z-index:10;width:90%;height:100%;background-color: #000000;\";\n    return defaults;\n  }\n}\n/**\n * Creates a canvas that is added/removed from the webpage when entering/exiting XR\n */\nexport class WebXRManagedOutputCanvas {\n  /**\n   * Initializes the canvas to be added/removed upon entering/exiting xr\n   * @param _xrSessionManager The XR Session manager\n   * @param _options optional configuration for this canvas output. defaults will be used if not provided\n   */\n  constructor(_xrSessionManager, _options = WebXRManagedOutputCanvasOptions.GetDefaults()) {\n    this._options = _options;\n    this._canvas = null;\n    this._engine = null;\n    /**\n     * xr layer for the canvas\n     */\n    this.xrLayer = null;\n    this._xrLayerWrapper = null;\n    /**\n     * Observers registered here will be triggered when the xr layer was initialized\n     */\n    this.onXRLayerInitObservable = new Observable();\n    this._engine = _xrSessionManager.scene.getEngine();\n    this._engine.onDisposeObservable.addOnce(() => {\n      this._engine = null;\n    });\n    if (!_options.canvasElement) {\n      const canvas = document.createElement(\"canvas\");\n      canvas.style.cssText = this._options.newCanvasCssStyle || \"position:absolute; bottom:0px;right:0px;\";\n      this._setManagedOutputCanvas(canvas);\n    } else {\n      this._setManagedOutputCanvas(_options.canvasElement);\n    }\n    _xrSessionManager.onXRSessionInit.add(() => {\n      this._addCanvas();\n    });\n    _xrSessionManager.onXRSessionEnded.add(() => {\n      this._removeCanvas();\n    });\n  }\n  /**\n   * Disposes of the object\n   */\n  dispose() {\n    this._removeCanvas();\n    this._setManagedOutputCanvas(null);\n  }\n  /**\n   * Initializes a XRWebGLLayer to be used as the session's baseLayer.\n   * @param xrSession xr session\n   * @returns a promise that will resolve once the XR Layer has been created\n   */\n  async initializeXRLayerAsync(xrSession) {\n    const createLayer = () => {\n      this.xrLayer = new XRWebGLLayer(xrSession, this.canvasContext, this._options.canvasOptions);\n      this._xrLayerWrapper = new WebXRWebGLLayerWrapper(this.xrLayer);\n      this.onXRLayerInitObservable.notifyObservers(this.xrLayer);\n      return this.xrLayer;\n    };\n    // support canvases without makeXRCompatible\n    if (!this.canvasContext.makeXRCompatible) {\n      return Promise.resolve(createLayer());\n    }\n    return this.canvasContext.makeXRCompatible().then(\n    // catch any error and continue. When using the emulator is throws this error for no apparent reason.\n    () => {}, () => {\n      // log the error, continue nonetheless!\n      Tools.Warn(\"Error executing makeXRCompatible. This does not mean that the session will work incorrectly.\");\n    }).then(() => {\n      return createLayer();\n    });\n  }\n  _addCanvas() {\n    if (this._canvas && this._engine && this._canvas !== this._engine.getRenderingCanvas()) {\n      document.body.appendChild(this._canvas);\n    }\n    if (this.xrLayer) {\n      this._setCanvasSize(true);\n    } else {\n      this.onXRLayerInitObservable.addOnce(() => {\n        this._setCanvasSize(true);\n      });\n    }\n  }\n  _removeCanvas() {\n    if (this._canvas && this._engine && document.body.contains(this._canvas) && this._canvas !== this._engine.getRenderingCanvas()) {\n      document.body.removeChild(this._canvas);\n    }\n    this._setCanvasSize(false);\n  }\n  _setCanvasSize(init = true, xrLayer = this._xrLayerWrapper) {\n    if (!this._canvas || !this._engine) {\n      return;\n    }\n    if (init) {\n      if (xrLayer) {\n        if (this._canvas !== this._engine.getRenderingCanvas()) {\n          this._canvas.style.width = xrLayer.getWidth() + \"px\";\n          this._canvas.style.height = xrLayer.getHeight() + \"px\";\n        } else {\n          this._engine.setSize(xrLayer.getWidth(), xrLayer.getHeight());\n        }\n      }\n    } else {\n      if (this._originalCanvasSize) {\n        if (this._canvas !== this._engine.getRenderingCanvas()) {\n          this._canvas.style.width = this._originalCanvasSize.width + \"px\";\n          this._canvas.style.height = this._originalCanvasSize.height + \"px\";\n        } else {\n          this._engine.setSize(this._originalCanvasSize.width, this._originalCanvasSize.height);\n        }\n      }\n    }\n  }\n  _setManagedOutputCanvas(canvas) {\n    this._removeCanvas();\n    if (!canvas) {\n      this._canvas = null;\n      this.canvasContext = null;\n    } else {\n      this._originalCanvasSize = {\n        width: canvas.offsetWidth,\n        height: canvas.offsetHeight\n      };\n      this._canvas = canvas;\n      this.canvasContext = this._canvas.getContext(\"webgl2\");\n      if (!this.canvasContext) {\n        this.canvasContext = this._canvas.getContext(\"webgl\");\n      }\n    }\n  }\n}","map":{"version":3,"names":["Observable","Tools","WebXRWebGLLayerWrapper","WebXRManagedOutputCanvasOptions","GetDefaults","engine","defaults","canvasOptions","antialias","depth","stencil","isStencilEnable","alpha","framebufferScaleFactor","newCanvasCssStyle","WebXRManagedOutputCanvas","constructor","_xrSessionManager","_options","_canvas","_engine","xrLayer","_xrLayerWrapper","onXRLayerInitObservable","scene","getEngine","onDisposeObservable","addOnce","canvasElement","canvas","document","createElement","style","cssText","_setManagedOutputCanvas","onXRSessionInit","add","_addCanvas","onXRSessionEnded","_removeCanvas","dispose","initializeXRLayerAsync","xrSession","createLayer","XRWebGLLayer","canvasContext","notifyObservers","makeXRCompatible","Promise","resolve","then","Warn","getRenderingCanvas","body","appendChild","_setCanvasSize","contains","removeChild","init","width","getWidth","height","getHeight","setSize","_originalCanvasSize","offsetWidth","offsetHeight","getContext"],"sources":["../../../../dev/core/src/XR/webXRManagedOutputCanvas.ts"],"sourcesContent":["import type { Nullable } from \"../types\";\r\nimport type { ThinEngine } from \"../Engines/thinEngine\";\r\nimport type { WebXRRenderTarget } from \"./webXRTypes\";\r\nimport type { WebXRSessionManager } from \"./webXRSessionManager\";\r\nimport { Observable } from \"../Misc/observable\";\r\nimport { Tools } from \"../Misc/tools\";\r\nimport type { WebXRLayerWrapper } from \"./webXRLayerWrapper\";\r\nimport { WebXRWebGLLayerWrapper } from \"./webXRWebGLLayer\";\r\n\r\n/**\r\n * Configuration object for WebXR output canvas\r\n */\r\nexport class WebXRManagedOutputCanvasOptions {\r\n    /**\r\n     * An optional canvas in case you wish to create it yourself and provide it here.\r\n     * If not provided, a new canvas will be created\r\n     */\r\n    public canvasElement?: HTMLCanvasElement;\r\n    /**\r\n     * Options for this XR Layer output\r\n     */\r\n    public canvasOptions?: XRWebGLLayerInit;\r\n    /**\r\n     * CSS styling for a newly created canvas (if not provided)\r\n     */\r\n    public newCanvasCssStyle?: string;\r\n\r\n    /**\r\n     * Get the default values of the configuration object\r\n     * @param engine defines the engine to use (can be null)\r\n     * @returns default values of this configuration object\r\n     */\r\n    public static GetDefaults(engine?: ThinEngine): WebXRManagedOutputCanvasOptions {\r\n        const defaults = new WebXRManagedOutputCanvasOptions();\r\n        defaults.canvasOptions = {\r\n            antialias: true,\r\n            depth: true,\r\n            stencil: engine ? engine.isStencilEnable : true,\r\n            alpha: true,\r\n            framebufferScaleFactor: 1,\r\n        };\r\n\r\n        defaults.newCanvasCssStyle = \"position:absolute; bottom:0px;right:0px;z-index:10;width:90%;height:100%;background-color: #000000;\";\r\n\r\n        return defaults;\r\n    }\r\n}\r\n/**\r\n * Creates a canvas that is added/removed from the webpage when entering/exiting XR\r\n */\r\nexport class WebXRManagedOutputCanvas implements WebXRRenderTarget {\r\n    private _canvas: Nullable<HTMLCanvasElement> = null;\r\n    private _engine: Nullable<ThinEngine> = null;\r\n    private _originalCanvasSize: {\r\n        width: number;\r\n        height: number;\r\n    };\r\n\r\n    /**\r\n     * Rendering context of the canvas which can be used to display/mirror xr content\r\n     */\r\n    public canvasContext: WebGLRenderingContext;\r\n\r\n    /**\r\n     * xr layer for the canvas\r\n     */\r\n    public xrLayer: Nullable<XRWebGLLayer> = null;\r\n\r\n    private _xrLayerWrapper: Nullable<WebXRLayerWrapper> = null;\r\n\r\n    /**\r\n     * Observers registered here will be triggered when the xr layer was initialized\r\n     */\r\n    public onXRLayerInitObservable: Observable<XRWebGLLayer> = new Observable();\r\n\r\n    /**\r\n     * Initializes the canvas to be added/removed upon entering/exiting xr\r\n     * @param _xrSessionManager The XR Session manager\r\n     * @param _options optional configuration for this canvas output. defaults will be used if not provided\r\n     */\r\n    constructor(_xrSessionManager: WebXRSessionManager, private _options: WebXRManagedOutputCanvasOptions = WebXRManagedOutputCanvasOptions.GetDefaults()) {\r\n        this._engine = _xrSessionManager.scene.getEngine();\r\n        this._engine.onDisposeObservable.addOnce(() => {\r\n            this._engine = null;\r\n        });\r\n\r\n        if (!_options.canvasElement) {\r\n            const canvas = document.createElement(\"canvas\");\r\n            canvas.style.cssText = this._options.newCanvasCssStyle || \"position:absolute; bottom:0px;right:0px;\";\r\n            this._setManagedOutputCanvas(canvas);\r\n        } else {\r\n            this._setManagedOutputCanvas(_options.canvasElement);\r\n        }\r\n\r\n        _xrSessionManager.onXRSessionInit.add(() => {\r\n            this._addCanvas();\r\n        });\r\n\r\n        _xrSessionManager.onXRSessionEnded.add(() => {\r\n            this._removeCanvas();\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Disposes of the object\r\n     */\r\n    public dispose() {\r\n        this._removeCanvas();\r\n        this._setManagedOutputCanvas(null);\r\n    }\r\n\r\n    /**\r\n     * Initializes a XRWebGLLayer to be used as the session's baseLayer.\r\n     * @param xrSession xr session\r\n     * @returns a promise that will resolve once the XR Layer has been created\r\n     */\r\n    public async initializeXRLayerAsync(xrSession: XRSession): Promise<XRWebGLLayer> {\r\n        const createLayer = () => {\r\n            this.xrLayer = new XRWebGLLayer(xrSession, this.canvasContext, this._options.canvasOptions);\r\n            this._xrLayerWrapper = new WebXRWebGLLayerWrapper(this.xrLayer);\r\n            this.onXRLayerInitObservable.notifyObservers(this.xrLayer);\r\n            return this.xrLayer;\r\n        };\r\n\r\n        // support canvases without makeXRCompatible\r\n        if (!(this.canvasContext as any).makeXRCompatible) {\r\n            return Promise.resolve(createLayer());\r\n        }\r\n\r\n        return (this.canvasContext as any)\r\n            .makeXRCompatible()\r\n            .then(\r\n                // catch any error and continue. When using the emulator is throws this error for no apparent reason.\r\n                () => {},\r\n                () => {\r\n                    // log the error, continue nonetheless!\r\n                    Tools.Warn(\"Error executing makeXRCompatible. This does not mean that the session will work incorrectly.\");\r\n                }\r\n            )\r\n            .then(() => {\r\n                return createLayer();\r\n            });\r\n    }\r\n\r\n    private _addCanvas() {\r\n        if (this._canvas && this._engine && this._canvas !== this._engine.getRenderingCanvas()) {\r\n            document.body.appendChild(this._canvas);\r\n        }\r\n        if (this.xrLayer) {\r\n            this._setCanvasSize(true);\r\n        } else {\r\n            this.onXRLayerInitObservable.addOnce(() => {\r\n                this._setCanvasSize(true);\r\n            });\r\n        }\r\n    }\r\n\r\n    private _removeCanvas() {\r\n        if (this._canvas && this._engine && document.body.contains(this._canvas) && this._canvas !== this._engine.getRenderingCanvas()) {\r\n            document.body.removeChild(this._canvas);\r\n        }\r\n        this._setCanvasSize(false);\r\n    }\r\n\r\n    private _setCanvasSize(init: boolean = true, xrLayer = this._xrLayerWrapper) {\r\n        if (!this._canvas || !this._engine) {\r\n            return;\r\n        }\r\n        if (init) {\r\n            if (xrLayer) {\r\n                if (this._canvas !== this._engine.getRenderingCanvas()) {\r\n                    this._canvas.style.width = xrLayer.getWidth() + \"px\";\r\n                    this._canvas.style.height = xrLayer.getHeight() + \"px\";\r\n                } else {\r\n                    this._engine.setSize(xrLayer.getWidth(), xrLayer.getHeight());\r\n                }\r\n            }\r\n        } else {\r\n            if (this._originalCanvasSize) {\r\n                if (this._canvas !== this._engine.getRenderingCanvas()) {\r\n                    this._canvas.style.width = this._originalCanvasSize.width + \"px\";\r\n                    this._canvas.style.height = this._originalCanvasSize.height + \"px\";\r\n                } else {\r\n                    this._engine.setSize(this._originalCanvasSize.width, this._originalCanvasSize.height);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private _setManagedOutputCanvas(canvas: Nullable<HTMLCanvasElement>) {\r\n        this._removeCanvas();\r\n        if (!canvas) {\r\n            this._canvas = null;\r\n            (this.canvasContext as any) = null;\r\n        } else {\r\n            this._originalCanvasSize = {\r\n                width: canvas.offsetWidth,\r\n                height: canvas.offsetHeight,\r\n            };\r\n            this._canvas = canvas;\r\n            this.canvasContext = <any>this._canvas.getContext(\"webgl2\");\r\n            if (!this.canvasContext) {\r\n                this.canvasContext = <any>this._canvas.getContext(\"webgl\");\r\n            }\r\n        }\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}