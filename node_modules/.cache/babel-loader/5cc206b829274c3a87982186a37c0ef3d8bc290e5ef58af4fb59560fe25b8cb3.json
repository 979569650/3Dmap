{"ast":null,"code":"/** @internal */\nexport class UniformBufferEffectCommonAccessor {\n  _isUbo(uboOrEffect) {\n    return uboOrEffect.addUniform !== undefined;\n  }\n  constructor(uboOrEffect) {\n    if (this._isUbo(uboOrEffect)) {\n      this.setMatrix3x3 = uboOrEffect.updateMatrix3x3.bind(uboOrEffect);\n      this.setMatrix2x2 = uboOrEffect.updateMatrix2x2.bind(uboOrEffect);\n      this.setFloat = uboOrEffect.updateFloat.bind(uboOrEffect);\n      this.setFloat2 = uboOrEffect.updateFloat2.bind(uboOrEffect);\n      this.setFloat3 = uboOrEffect.updateFloat3.bind(uboOrEffect);\n      this.setFloat4 = uboOrEffect.updateFloat4.bind(uboOrEffect);\n      this.setFloatArray = uboOrEffect.updateFloatArray.bind(uboOrEffect);\n      this.setArray = uboOrEffect.updateArray.bind(uboOrEffect);\n      this.setIntArray = uboOrEffect.updateIntArray.bind(uboOrEffect);\n      this.setMatrix = uboOrEffect.updateMatrix.bind(uboOrEffect);\n      this.setMatrices = uboOrEffect.updateMatrices.bind(uboOrEffect);\n      this.setVector3 = uboOrEffect.updateVector3.bind(uboOrEffect);\n      this.setVector4 = uboOrEffect.updateVector4.bind(uboOrEffect);\n      this.setColor3 = uboOrEffect.updateColor3.bind(uboOrEffect);\n      this.setColor4 = uboOrEffect.updateColor4.bind(uboOrEffect);\n      this.setDirectColor4 = uboOrEffect.updateDirectColor4.bind(uboOrEffect);\n      this.setInt = uboOrEffect.updateInt.bind(uboOrEffect);\n      this.setInt2 = uboOrEffect.updateInt2.bind(uboOrEffect);\n      this.setInt3 = uboOrEffect.updateInt3.bind(uboOrEffect);\n      this.setInt4 = uboOrEffect.updateInt4.bind(uboOrEffect);\n    } else {\n      this.setMatrix3x3 = uboOrEffect.setMatrix3x3.bind(uboOrEffect);\n      this.setMatrix2x2 = uboOrEffect.setMatrix2x2.bind(uboOrEffect);\n      this.setFloat = uboOrEffect.setFloat.bind(uboOrEffect);\n      this.setFloat2 = uboOrEffect.setFloat2.bind(uboOrEffect);\n      this.setFloat3 = uboOrEffect.setFloat3.bind(uboOrEffect);\n      this.setFloat4 = uboOrEffect.setFloat4.bind(uboOrEffect);\n      this.setFloatArray = uboOrEffect.setFloatArray.bind(uboOrEffect);\n      this.setArray = uboOrEffect.setArray.bind(uboOrEffect);\n      this.setIntArray = uboOrEffect.setIntArray.bind(uboOrEffect);\n      this.setMatrix = uboOrEffect.setMatrix.bind(uboOrEffect);\n      this.setMatrices = uboOrEffect.setMatrices.bind(uboOrEffect);\n      this.setVector3 = uboOrEffect.setVector3.bind(uboOrEffect);\n      this.setVector4 = uboOrEffect.setVector4.bind(uboOrEffect);\n      this.setColor3 = uboOrEffect.setColor3.bind(uboOrEffect);\n      this.setColor4 = uboOrEffect.setColor4.bind(uboOrEffect);\n      this.setDirectColor4 = uboOrEffect.setDirectColor4.bind(uboOrEffect);\n      this.setInt = uboOrEffect.setInt.bind(uboOrEffect);\n      this.setInt2 = uboOrEffect.setInt2.bind(uboOrEffect);\n      this.setInt3 = uboOrEffect.setInt3.bind(uboOrEffect);\n      this.setInt4 = uboOrEffect.setInt4.bind(uboOrEffect);\n    }\n  }\n}","map":{"version":3,"names":["UniformBufferEffectCommonAccessor","_isUbo","uboOrEffect","addUniform","undefined","constructor","setMatrix3x3","updateMatrix3x3","bind","setMatrix2x2","updateMatrix2x2","setFloat","updateFloat","setFloat2","updateFloat2","setFloat3","updateFloat3","setFloat4","updateFloat4","setFloatArray","updateFloatArray","setArray","updateArray","setIntArray","updateIntArray","setMatrix","updateMatrix","setMatrices","updateMatrices","setVector3","updateVector3","setVector4","updateVector4","setColor3","updateColor3","setColor4","updateColor4","setDirectColor4","updateDirectColor4","setInt","updateInt","setInt2","updateInt2","setInt3","updateInt3","setInt4","updateInt4"],"sources":["../../../../dev/core/src/Materials/uniformBufferEffectCommonAccessor.ts"],"sourcesContent":["import type { IColor3Like, IColor4Like, IMatrixLike, IVector3Like, IVector4Like } from \"../Maths/math.like\";\r\nimport type { Effect } from \"./effect\";\r\nimport type { UniformBuffer } from \"./uniformBuffer\";\r\n\r\n/** @internal */\r\nexport class UniformBufferEffectCommonAccessor {\r\n    public setMatrix3x3: (name: string, matrix: Float32Array) => void;\r\n\r\n    public setMatrix2x2: (name: string, matrix: Float32Array) => void;\r\n\r\n    public setFloat: (name: string, x: number) => void;\r\n\r\n    public setFloat2: (name: string, x: number, y: number, suffix?: string) => void;\r\n\r\n    public setFloat3: (name: string, x: number, y: number, z: number, suffix?: string) => void;\r\n\r\n    public setFloat4: (name: string, x: number, y: number, z: number, w: number, suffix?: string) => void;\r\n\r\n    public setFloatArray: (name: string, array: Float32Array) => void;\r\n\r\n    public setArray: (name: string, array: number[]) => void;\r\n\r\n    public setIntArray: (name: string, array: Int32Array) => void;\r\n\r\n    public setMatrix: (name: string, mat: IMatrixLike) => void;\r\n\r\n    public setMatrices: (name: string, mat: Float32Array) => void;\r\n\r\n    public setVector3: (name: string, vector: IVector3Like) => void;\r\n\r\n    public setVector4: (name: string, vector: IVector4Like) => void;\r\n\r\n    public setColor3: (name: string, color: IColor3Like, suffix?: string) => void;\r\n\r\n    public setColor4: (name: string, color: IColor3Like, alpha: number, suffix?: string) => void;\r\n\r\n    public setDirectColor4: (name: string, color: IColor4Like) => void;\r\n\r\n    public setInt: (name: string, x: number, suffix?: string) => void;\r\n\r\n    public setInt2: (name: string, x: number, y: number, suffix?: string) => void;\r\n\r\n    public setInt3: (name: string, x: number, y: number, z: number, suffix?: string) => void;\r\n\r\n    public setInt4: (name: string, x: number, y: number, z: number, w: number, suffix?: string) => void;\r\n\r\n    private _isUbo(uboOrEffect: UniformBuffer | Effect): uboOrEffect is UniformBuffer {\r\n        return (uboOrEffect as UniformBuffer).addUniform !== undefined;\r\n    }\r\n\r\n    constructor(uboOrEffect: UniformBuffer | Effect) {\r\n        if (this._isUbo(uboOrEffect)) {\r\n            this.setMatrix3x3 = uboOrEffect.updateMatrix3x3.bind(uboOrEffect);\r\n            this.setMatrix2x2 = uboOrEffect.updateMatrix2x2.bind(uboOrEffect);\r\n            this.setFloat = uboOrEffect.updateFloat.bind(uboOrEffect);\r\n            this.setFloat2 = uboOrEffect.updateFloat2.bind(uboOrEffect);\r\n            this.setFloat3 = uboOrEffect.updateFloat3.bind(uboOrEffect);\r\n            this.setFloat4 = uboOrEffect.updateFloat4.bind(uboOrEffect);\r\n            this.setFloatArray = uboOrEffect.updateFloatArray.bind(uboOrEffect);\r\n            this.setArray = uboOrEffect.updateArray.bind(uboOrEffect);\r\n            this.setIntArray = uboOrEffect.updateIntArray.bind(uboOrEffect);\r\n            this.setMatrix = uboOrEffect.updateMatrix.bind(uboOrEffect);\r\n            this.setMatrices = uboOrEffect.updateMatrices.bind(uboOrEffect);\r\n            this.setVector3 = uboOrEffect.updateVector3.bind(uboOrEffect);\r\n            this.setVector4 = uboOrEffect.updateVector4.bind(uboOrEffect);\r\n            this.setColor3 = uboOrEffect.updateColor3.bind(uboOrEffect);\r\n            this.setColor4 = uboOrEffect.updateColor4.bind(uboOrEffect);\r\n            this.setDirectColor4 = uboOrEffect.updateDirectColor4.bind(uboOrEffect);\r\n            this.setInt = uboOrEffect.updateInt.bind(uboOrEffect);\r\n            this.setInt2 = uboOrEffect.updateInt2.bind(uboOrEffect);\r\n            this.setInt3 = uboOrEffect.updateInt3.bind(uboOrEffect);\r\n            this.setInt4 = uboOrEffect.updateInt4.bind(uboOrEffect);\r\n        } else {\r\n            this.setMatrix3x3 = uboOrEffect.setMatrix3x3.bind(uboOrEffect);\r\n            this.setMatrix2x2 = uboOrEffect.setMatrix2x2.bind(uboOrEffect);\r\n            this.setFloat = uboOrEffect.setFloat.bind(uboOrEffect);\r\n            this.setFloat2 = uboOrEffect.setFloat2.bind(uboOrEffect);\r\n            this.setFloat3 = uboOrEffect.setFloat3.bind(uboOrEffect);\r\n            this.setFloat4 = uboOrEffect.setFloat4.bind(uboOrEffect);\r\n            this.setFloatArray = uboOrEffect.setFloatArray.bind(uboOrEffect);\r\n            this.setArray = uboOrEffect.setArray.bind(uboOrEffect);\r\n            this.setIntArray = uboOrEffect.setIntArray.bind(uboOrEffect);\r\n            this.setMatrix = uboOrEffect.setMatrix.bind(uboOrEffect);\r\n            this.setMatrices = uboOrEffect.setMatrices.bind(uboOrEffect);\r\n            this.setVector3 = uboOrEffect.setVector3.bind(uboOrEffect);\r\n            this.setVector4 = uboOrEffect.setVector4.bind(uboOrEffect);\r\n            this.setColor3 = uboOrEffect.setColor3.bind(uboOrEffect);\r\n            this.setColor4 = uboOrEffect.setColor4.bind(uboOrEffect);\r\n            this.setDirectColor4 = uboOrEffect.setDirectColor4.bind(uboOrEffect);\r\n            this.setInt = uboOrEffect.setInt.bind(uboOrEffect);\r\n            this.setInt2 = uboOrEffect.setInt2.bind(uboOrEffect);\r\n            this.setInt3 = uboOrEffect.setInt3.bind(uboOrEffect);\r\n            this.setInt4 = uboOrEffect.setInt4.bind(uboOrEffect);\r\n        }\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}