{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/** @internal */\nexport class WebGLPipelineContext {\n  constructor() {\n    this._valueCache = {};\n    this.vertexCompilationError = null;\n    this.fragmentCompilationError = null;\n    this.programLinkError = null;\n    this.programValidationError = null;\n    /** @internal */\n    this._isDisposed = false;\n  }\n  get isAsync() {\n    return this.isParallelCompiled;\n  }\n  get isReady() {\n    if (this.program) {\n      if (this.isParallelCompiled) {\n        return this.engine._isRenderingStateCompiled(this);\n      }\n      return true;\n    }\n    return false;\n  }\n  _handlesSpectorRebuildCallback(onCompiled) {\n    if (onCompiled && this.program) {\n      onCompiled(this.program);\n    }\n  }\n  _fillEffectInformation(effect, uniformBuffersNames, uniformsNames, uniforms, samplerList, samplers, attributesNames, attributes) {\n    const engine = this.engine;\n    if (engine.supportsUniformBuffers) {\n      for (const name in uniformBuffersNames) {\n        effect.bindUniformBlock(name, uniformBuffersNames[name]);\n      }\n    }\n    const effectAvailableUniforms = this.engine.getUniforms(this, uniformsNames);\n    effectAvailableUniforms.forEach((uniform, index) => {\n      uniforms[uniformsNames[index]] = uniform;\n    });\n    this._uniforms = uniforms;\n    let index;\n    for (index = 0; index < samplerList.length; index++) {\n      const sampler = effect.getUniform(samplerList[index]);\n      if (sampler == null) {\n        samplerList.splice(index, 1);\n        index--;\n      }\n    }\n    samplerList.forEach((name, index) => {\n      samplers[name] = index;\n    });\n    for (const attr of engine.getAttributes(this, attributesNames)) {\n      attributes.push(attr);\n    }\n  }\n  /**\n   * Release all associated resources.\n   **/\n  dispose() {\n    this._uniforms = {};\n    this._isDisposed = true;\n  }\n  /**\n   * @internal\n   */\n  _cacheMatrix(uniformName, matrix) {\n    const cache = this._valueCache[uniformName];\n    const flag = matrix.updateFlag;\n    if (cache !== undefined && cache === flag) {\n      return false;\n    }\n    this._valueCache[uniformName] = flag;\n    return true;\n  }\n  /**\n   * @internal\n   */\n  _cacheFloat2(uniformName, x, y) {\n    let cache = this._valueCache[uniformName];\n    if (!cache || cache.length !== 2) {\n      cache = [x, y];\n      this._valueCache[uniformName] = cache;\n      return true;\n    }\n    let changed = false;\n    if (cache[0] !== x) {\n      cache[0] = x;\n      changed = true;\n    }\n    if (cache[1] !== y) {\n      cache[1] = y;\n      changed = true;\n    }\n    return changed;\n  }\n  /**\n   * @internal\n   */\n  _cacheFloat3(uniformName, x, y, z) {\n    let cache = this._valueCache[uniformName];\n    if (!cache || cache.length !== 3) {\n      cache = [x, y, z];\n      this._valueCache[uniformName] = cache;\n      return true;\n    }\n    let changed = false;\n    if (cache[0] !== x) {\n      cache[0] = x;\n      changed = true;\n    }\n    if (cache[1] !== y) {\n      cache[1] = y;\n      changed = true;\n    }\n    if (cache[2] !== z) {\n      cache[2] = z;\n      changed = true;\n    }\n    return changed;\n  }\n  /**\n   * @internal\n   */\n  _cacheFloat4(uniformName, x, y, z, w) {\n    let cache = this._valueCache[uniformName];\n    if (!cache || cache.length !== 4) {\n      cache = [x, y, z, w];\n      this._valueCache[uniformName] = cache;\n      return true;\n    }\n    let changed = false;\n    if (cache[0] !== x) {\n      cache[0] = x;\n      changed = true;\n    }\n    if (cache[1] !== y) {\n      cache[1] = y;\n      changed = true;\n    }\n    if (cache[2] !== z) {\n      cache[2] = z;\n      changed = true;\n    }\n    if (cache[3] !== w) {\n      cache[3] = w;\n      changed = true;\n    }\n    return changed;\n  }\n  /**\n   * Sets an integer value on a uniform variable.\n   * @param uniformName Name of the variable.\n   * @param value Value to be set.\n   */\n  setInt(uniformName, value) {\n    const cache = this._valueCache[uniformName];\n    if (cache !== undefined && cache === value) {\n      return;\n    }\n    if (this.engine.setInt(this._uniforms[uniformName], value)) {\n      this._valueCache[uniformName] = value;\n    }\n  }\n  /**\n   * Sets a int2 on a uniform variable.\n   * @param uniformName Name of the variable.\n   * @param x First int in int2.\n   * @param y Second int in int2.\n   */\n  setInt2(uniformName, x, y) {\n    if (this._cacheFloat2(uniformName, x, y)) {\n      if (!this.engine.setInt2(this._uniforms[uniformName], x, y)) {\n        this._valueCache[uniformName] = null;\n      }\n    }\n  }\n  /**\n   * Sets a int3 on a uniform variable.\n   * @param uniformName Name of the variable.\n   * @param x First int in int3.\n   * @param y Second int in int3.\n   * @param z Third int in int3.\n   */\n  setInt3(uniformName, x, y, z) {\n    if (this._cacheFloat3(uniformName, x, y, z)) {\n      if (!this.engine.setInt3(this._uniforms[uniformName], x, y, z)) {\n        this._valueCache[uniformName] = null;\n      }\n    }\n  }\n  /**\n   * Sets a int4 on a uniform variable.\n   * @param uniformName Name of the variable.\n   * @param x First int in int4.\n   * @param y Second int in int4.\n   * @param z Third int in int4.\n   * @param w Fourth int in int4.\n   */\n  setInt4(uniformName, x, y, z, w) {\n    if (this._cacheFloat4(uniformName, x, y, z, w)) {\n      if (!this.engine.setInt4(this._uniforms[uniformName], x, y, z, w)) {\n        this._valueCache[uniformName] = null;\n      }\n    }\n  }\n  /**\n   * Sets an int array on a uniform variable.\n   * @param uniformName Name of the variable.\n   * @param array array to be set.\n   */\n  setIntArray(uniformName, array) {\n    this._valueCache[uniformName] = null;\n    this.engine.setIntArray(this._uniforms[uniformName], array);\n  }\n  /**\n   * Sets an int array 2 on a uniform variable. (Array is specified as single array eg. [1,2,3,4] will result in [[1,2],[3,4]] in the shader)\n   * @param uniformName Name of the variable.\n   * @param array array to be set.\n   */\n  setIntArray2(uniformName, array) {\n    this._valueCache[uniformName] = null;\n    this.engine.setIntArray2(this._uniforms[uniformName], array);\n  }\n  /**\n   * Sets an int array 3 on a uniform variable. (Array is specified as single array eg. [1,2,3,4,5,6] will result in [[1,2,3],[4,5,6]] in the shader)\n   * @param uniformName Name of the variable.\n   * @param array array to be set.\n   */\n  setIntArray3(uniformName, array) {\n    this._valueCache[uniformName] = null;\n    this.engine.setIntArray3(this._uniforms[uniformName], array);\n  }\n  /**\n   * Sets an int array 4 on a uniform variable. (Array is specified as single array eg. [1,2,3,4,5,6,7,8] will result in [[1,2,3,4],[5,6,7,8]] in the shader)\n   * @param uniformName Name of the variable.\n   * @param array array to be set.\n   */\n  setIntArray4(uniformName, array) {\n    this._valueCache[uniformName] = null;\n    this.engine.setIntArray4(this._uniforms[uniformName], array);\n  }\n  /**\n   * Sets an unsigned integer value on a uniform variable.\n   * @param uniformName Name of the variable.\n   * @param value Value to be set.\n   */\n  setUInt(uniformName, value) {\n    const cache = this._valueCache[uniformName];\n    if (cache !== undefined && cache === value) {\n      return;\n    }\n    if (this.engine.setUInt(this._uniforms[uniformName], value)) {\n      this._valueCache[uniformName] = value;\n    }\n  }\n  /**\n   * Sets an unsigned int2 value on a uniform variable.\n   * @param uniformName Name of the variable.\n   * @param x First unsigned int in uint2.\n   * @param y Second unsigned int in uint2.\n   */\n  setUInt2(uniformName, x, y) {\n    if (this._cacheFloat2(uniformName, x, y)) {\n      if (!this.engine.setUInt2(this._uniforms[uniformName], x, y)) {\n        this._valueCache[uniformName] = null;\n      }\n    }\n  }\n  /**\n   * Sets an unsigned int3 value on a uniform variable.\n   * @param uniformName Name of the variable.\n   * @param x First unsigned int in uint3.\n   * @param y Second unsigned int in uint3.\n   * @param z Third unsigned int in uint3.\n   */\n  setUInt3(uniformName, x, y, z) {\n    if (this._cacheFloat3(uniformName, x, y, z)) {\n      if (!this.engine.setUInt3(this._uniforms[uniformName], x, y, z)) {\n        this._valueCache[uniformName] = null;\n      }\n    }\n  }\n  /**\n   * Sets an unsigned int4 value on a uniform variable.\n   * @param uniformName Name of the variable.\n   * @param x First unsigned int in uint4.\n   * @param y Second unsigned int in uint4.\n   * @param z Third unsigned int in uint4.\n   * @param w Fourth unsigned int in uint4.\n   */\n  setUInt4(uniformName, x, y, z, w) {\n    if (this._cacheFloat4(uniformName, x, y, z, w)) {\n      if (!this.engine.setUInt4(this._uniforms[uniformName], x, y, z, w)) {\n        this._valueCache[uniformName] = null;\n      }\n    }\n  }\n  /**\n   * Sets an unsigned int array on a uniform variable.\n   * @param uniformName Name of the variable.\n   * @param array array to be set.\n   */\n  setUIntArray(uniformName, array) {\n    this._valueCache[uniformName] = null;\n    this.engine.setUIntArray(this._uniforms[uniformName], array);\n  }\n  /**\n   * Sets an unsigned int array 2 on a uniform variable. (Array is specified as single array eg. [1,2,3,4] will result in [[1,2],[3,4]] in the shader)\n   * @param uniformName Name of the variable.\n   * @param array array to be set.\n   */\n  setUIntArray2(uniformName, array) {\n    this._valueCache[uniformName] = null;\n    this.engine.setUIntArray2(this._uniforms[uniformName], array);\n  }\n  /**\n   * Sets an unsigned int array 3 on a uniform variable. (Array is specified as single array eg. [1,2,3,4,5,6] will result in [[1,2,3],[4,5,6]] in the shader)\n   * @param uniformName Name of the variable.\n   * @param array array to be set.\n   */\n  setUIntArray3(uniformName, array) {\n    this._valueCache[uniformName] = null;\n    this.engine.setUIntArray3(this._uniforms[uniformName], array);\n  }\n  /**\n   * Sets an unsigned int array 4 on a uniform variable. (Array is specified as single array eg. [1,2,3,4,5,6,7,8] will result in [[1,2,3,4],[5,6,7,8]] in the shader)\n   * @param uniformName Name of the variable.\n   * @param array array to be set.\n   */\n  setUIntArray4(uniformName, array) {\n    this._valueCache[uniformName] = null;\n    this.engine.setUIntArray4(this._uniforms[uniformName], array);\n  }\n  /**\n   * Sets an array on a uniform variable.\n   * @param uniformName Name of the variable.\n   * @param array array to be set.\n   */\n  setArray(uniformName, array) {\n    this._valueCache[uniformName] = null;\n    this.engine.setArray(this._uniforms[uniformName], array);\n  }\n  /**\n   * Sets an array 2 on a uniform variable. (Array is specified as single array eg. [1,2,3,4] will result in [[1,2],[3,4]] in the shader)\n   * @param uniformName Name of the variable.\n   * @param array array to be set.\n   */\n  setArray2(uniformName, array) {\n    this._valueCache[uniformName] = null;\n    this.engine.setArray2(this._uniforms[uniformName], array);\n  }\n  /**\n   * Sets an array 3 on a uniform variable. (Array is specified as single array eg. [1,2,3,4,5,6] will result in [[1,2,3],[4,5,6]] in the shader)\n   * @param uniformName Name of the variable.\n   * @param array array to be set.\n   * @returns this effect.\n   */\n  setArray3(uniformName, array) {\n    this._valueCache[uniformName] = null;\n    this.engine.setArray3(this._uniforms[uniformName], array);\n  }\n  /**\n   * Sets an array 4 on a uniform variable. (Array is specified as single array eg. [1,2,3,4,5,6,7,8] will result in [[1,2,3,4],[5,6,7,8]] in the shader)\n   * @param uniformName Name of the variable.\n   * @param array array to be set.\n   */\n  setArray4(uniformName, array) {\n    this._valueCache[uniformName] = null;\n    this.engine.setArray4(this._uniforms[uniformName], array);\n  }\n  /**\n   * Sets matrices on a uniform variable.\n   * @param uniformName Name of the variable.\n   * @param matrices matrices to be set.\n   */\n  setMatrices(uniformName, matrices) {\n    if (!matrices) {\n      return;\n    }\n    this._valueCache[uniformName] = null;\n    this.engine.setMatrices(this._uniforms[uniformName], matrices);\n  }\n  /**\n   * Sets matrix on a uniform variable.\n   * @param uniformName Name of the variable.\n   * @param matrix matrix to be set.\n   */\n  setMatrix(uniformName, matrix) {\n    if (this._cacheMatrix(uniformName, matrix)) {\n      if (!this.engine.setMatrices(this._uniforms[uniformName], matrix.toArray())) {\n        this._valueCache[uniformName] = null;\n      }\n    }\n  }\n  /**\n   * Sets a 3x3 matrix on a uniform variable. (Specified as [1,2,3,4,5,6,7,8,9] will result in [1,2,3][4,5,6][7,8,9] matrix)\n   * @param uniformName Name of the variable.\n   * @param matrix matrix to be set.\n   */\n  setMatrix3x3(uniformName, matrix) {\n    this._valueCache[uniformName] = null;\n    this.engine.setMatrix3x3(this._uniforms[uniformName], matrix);\n  }\n  /**\n   * Sets a 2x2 matrix on a uniform variable. (Specified as [1,2,3,4] will result in [1,2][3,4] matrix)\n   * @param uniformName Name of the variable.\n   * @param matrix matrix to be set.\n   */\n  setMatrix2x2(uniformName, matrix) {\n    this._valueCache[uniformName] = null;\n    this.engine.setMatrix2x2(this._uniforms[uniformName], matrix);\n  }\n  /**\n   * Sets a float on a uniform variable.\n   * @param uniformName Name of the variable.\n   * @param value value to be set.\n   * @returns this effect.\n   */\n  setFloat(uniformName, value) {\n    const cache = this._valueCache[uniformName];\n    if (cache !== undefined && cache === value) {\n      return;\n    }\n    if (this.engine.setFloat(this._uniforms[uniformName], value)) {\n      this._valueCache[uniformName] = value;\n    }\n  }\n  /**\n   * Sets a Vector2 on a uniform variable.\n   * @param uniformName Name of the variable.\n   * @param vector2 vector2 to be set.\n   */\n  setVector2(uniformName, vector2) {\n    if (this._cacheFloat2(uniformName, vector2.x, vector2.y)) {\n      if (!this.engine.setFloat2(this._uniforms[uniformName], vector2.x, vector2.y)) {\n        this._valueCache[uniformName] = null;\n      }\n    }\n  }\n  /**\n   * Sets a float2 on a uniform variable.\n   * @param uniformName Name of the variable.\n   * @param x First float in float2.\n   * @param y Second float in float2.\n   */\n  setFloat2(uniformName, x, y) {\n    if (this._cacheFloat2(uniformName, x, y)) {\n      if (!this.engine.setFloat2(this._uniforms[uniformName], x, y)) {\n        this._valueCache[uniformName] = null;\n      }\n    }\n  }\n  /**\n   * Sets a Vector3 on a uniform variable.\n   * @param uniformName Name of the variable.\n   * @param vector3 Value to be set.\n   */\n  setVector3(uniformName, vector3) {\n    if (this._cacheFloat3(uniformName, vector3.x, vector3.y, vector3.z)) {\n      if (!this.engine.setFloat3(this._uniforms[uniformName], vector3.x, vector3.y, vector3.z)) {\n        this._valueCache[uniformName] = null;\n      }\n    }\n  }\n  /**\n   * Sets a float3 on a uniform variable.\n   * @param uniformName Name of the variable.\n   * @param x First float in float3.\n   * @param y Second float in float3.\n   * @param z Third float in float3.\n   */\n  setFloat3(uniformName, x, y, z) {\n    if (this._cacheFloat3(uniformName, x, y, z)) {\n      if (!this.engine.setFloat3(this._uniforms[uniformName], x, y, z)) {\n        this._valueCache[uniformName] = null;\n      }\n    }\n  }\n  /**\n   * Sets a Vector4 on a uniform variable.\n   * @param uniformName Name of the variable.\n   * @param vector4 Value to be set.\n   */\n  setVector4(uniformName, vector4) {\n    if (this._cacheFloat4(uniformName, vector4.x, vector4.y, vector4.z, vector4.w)) {\n      if (!this.engine.setFloat4(this._uniforms[uniformName], vector4.x, vector4.y, vector4.z, vector4.w)) {\n        this._valueCache[uniformName] = null;\n      }\n    }\n  }\n  /**\n   * Sets a Quaternion on a uniform variable.\n   * @param uniformName Name of the variable.\n   * @param quaternion Value to be set.\n   */\n  setQuaternion(uniformName, quaternion) {\n    if (this._cacheFloat4(uniformName, quaternion.x, quaternion.y, quaternion.z, quaternion.w)) {\n      if (!this.engine.setFloat4(this._uniforms[uniformName], quaternion.x, quaternion.y, quaternion.z, quaternion.w)) {\n        this._valueCache[uniformName] = null;\n      }\n    }\n  }\n  /**\n   * Sets a float4 on a uniform variable.\n   * @param uniformName Name of the variable.\n   * @param x First float in float4.\n   * @param y Second float in float4.\n   * @param z Third float in float4.\n   * @param w Fourth float in float4.\n   * @returns this effect.\n   */\n  setFloat4(uniformName, x, y, z, w) {\n    if (this._cacheFloat4(uniformName, x, y, z, w)) {\n      if (!this.engine.setFloat4(this._uniforms[uniformName], x, y, z, w)) {\n        this._valueCache[uniformName] = null;\n      }\n    }\n  }\n  /**\n   * Sets a Color3 on a uniform variable.\n   * @param uniformName Name of the variable.\n   * @param color3 Value to be set.\n   */\n  setColor3(uniformName, color3) {\n    if (this._cacheFloat3(uniformName, color3.r, color3.g, color3.b)) {\n      if (!this.engine.setFloat3(this._uniforms[uniformName], color3.r, color3.g, color3.b)) {\n        this._valueCache[uniformName] = null;\n      }\n    }\n  }\n  /**\n   * Sets a Color4 on a uniform variable.\n   * @param uniformName Name of the variable.\n   * @param color3 Value to be set.\n   * @param alpha Alpha value to be set.\n   */\n  setColor4(uniformName, color3, alpha) {\n    if (this._cacheFloat4(uniformName, color3.r, color3.g, color3.b, alpha)) {\n      if (!this.engine.setFloat4(this._uniforms[uniformName], color3.r, color3.g, color3.b, alpha)) {\n        this._valueCache[uniformName] = null;\n      }\n    }\n  }\n  /**\n   * Sets a Color4 on a uniform variable\n   * @param uniformName defines the name of the variable\n   * @param color4 defines the value to be set\n   */\n  setDirectColor4(uniformName, color4) {\n    if (this._cacheFloat4(uniformName, color4.r, color4.g, color4.b, color4.a)) {\n      if (!this.engine.setFloat4(this._uniforms[uniformName], color4.r, color4.g, color4.b, color4.a)) {\n        this._valueCache[uniformName] = null;\n      }\n    }\n  }\n  _getVertexShaderCode() {\n    return this.vertexShader ? this.engine._getShaderSource(this.vertexShader) : null;\n  }\n  _getFragmentShaderCode() {\n    return this.fragmentShader ? this.engine._getShaderSource(this.fragmentShader) : null;\n  }\n}","map":{"version":3,"names":["WebGLPipelineContext","constructor","_valueCache","vertexCompilationError","fragmentCompilationError","programLinkError","programValidationError","_isDisposed","isAsync","isParallelCompiled","isReady","program","engine","_isRenderingStateCompiled","_handlesSpectorRebuildCallback","onCompiled","_fillEffectInformation","effect","uniformBuffersNames","uniformsNames","uniforms","samplerList","samplers","attributesNames","attributes","supportsUniformBuffers","name","bindUniformBlock","effectAvailableUniforms","getUniforms","forEach","uniform","index","_uniforms","length","sampler","getUniform","splice","attr","getAttributes","push","dispose","_cacheMatrix","uniformName","matrix","cache","flag","updateFlag","undefined","_cacheFloat2","x","y","changed","_cacheFloat3","z","_cacheFloat4","w","setInt","value","setInt2","setInt3","setInt4","setIntArray","array","setIntArray2","setIntArray3","setIntArray4","setUInt","setUInt2","setUInt3","setUInt4","setUIntArray","setUIntArray2","setUIntArray3","setUIntArray4","setArray","setArray2","setArray3","setArray4","setMatrices","matrices","setMatrix","toArray","setMatrix3x3","setMatrix2x2","setFloat","setVector2","vector2","setFloat2","setVector3","vector3","setFloat3","setVector4","vector4","setFloat4","setQuaternion","quaternion","setColor3","color3","r","g","b","setColor4","alpha","setDirectColor4","color4","a","_getVertexShaderCode","vertexShader","_getShaderSource","_getFragmentShaderCode","fragmentShader"],"sources":["../../../../../dev/core/src/Engines/WebGL/webGLPipelineContext.ts"],"sourcesContent":["import type { IPipelineContext } from \"../IPipelineContext\";\r\nimport type { Nullable } from \"../../types\";\r\nimport type { Effect } from \"../../Materials/effect\";\r\nimport type { IMatrixLike, IVector2Like, IVector3Like, IVector4Like, IColor3Like, IColor4Like, IQuaternionLike } from \"../../Maths/math.like\";\r\nimport type { ThinEngine } from \"../thinEngine\";\r\n\r\n/** @internal */\r\nexport class WebGLPipelineContext implements IPipelineContext {\r\n    private _valueCache: { [key: string]: any } = {};\r\n    private _uniforms: { [key: string]: Nullable<WebGLUniformLocation> };\r\n\r\n    public engine: ThinEngine;\r\n    public program: Nullable<WebGLProgram>;\r\n    public context?: WebGLRenderingContext;\r\n    public vertexShader?: WebGLShader;\r\n    public fragmentShader?: WebGLShader;\r\n    public isParallelCompiled: boolean;\r\n    public onCompiled?: () => void;\r\n    public transformFeedback?: WebGLTransformFeedback | null;\r\n\r\n    public vertexCompilationError: Nullable<string> = null;\r\n    public fragmentCompilationError: Nullable<string> = null;\r\n    public programLinkError: Nullable<string> = null;\r\n    public programValidationError: Nullable<string> = null;\r\n\r\n    /** @internal */\r\n    public _isDisposed = false;\r\n\r\n    public get isAsync() {\r\n        return this.isParallelCompiled;\r\n    }\r\n\r\n    public get isReady(): boolean {\r\n        if (this.program) {\r\n            if (this.isParallelCompiled) {\r\n                return this.engine._isRenderingStateCompiled(this);\r\n            }\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    public _handlesSpectorRebuildCallback(onCompiled: (program: WebGLProgram) => void): void {\r\n        if (onCompiled && this.program) {\r\n            onCompiled(this.program);\r\n        }\r\n    }\r\n\r\n    public _fillEffectInformation(\r\n        effect: Effect,\r\n        uniformBuffersNames: { [key: string]: number },\r\n        uniformsNames: string[],\r\n        uniforms: { [key: string]: Nullable<WebGLUniformLocation> },\r\n        samplerList: string[],\r\n        samplers: { [key: string]: number },\r\n        attributesNames: string[],\r\n        attributes: number[]\r\n    ) {\r\n        const engine = this.engine;\r\n        if (engine.supportsUniformBuffers) {\r\n            for (const name in uniformBuffersNames) {\r\n                effect.bindUniformBlock(name, uniformBuffersNames[name]);\r\n            }\r\n        }\r\n\r\n        const effectAvailableUniforms = this.engine.getUniforms(this, uniformsNames);\r\n        effectAvailableUniforms.forEach((uniform, index) => {\r\n            uniforms[uniformsNames[index]] = uniform;\r\n        });\r\n        this._uniforms = uniforms;\r\n\r\n        let index: number;\r\n        for (index = 0; index < samplerList.length; index++) {\r\n            const sampler = effect.getUniform(samplerList[index]);\r\n            if (sampler == null) {\r\n                samplerList.splice(index, 1);\r\n                index--;\r\n            }\r\n        }\r\n\r\n        samplerList.forEach((name, index) => {\r\n            samplers[name] = index;\r\n        });\r\n\r\n        for (const attr of engine.getAttributes(this, attributesNames)) {\r\n            attributes.push(attr);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Release all associated resources.\r\n     **/\r\n    public dispose() {\r\n        this._uniforms = {};\r\n        this._isDisposed = true;\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _cacheMatrix(uniformName: string, matrix: IMatrixLike): boolean {\r\n        const cache = this._valueCache[uniformName];\r\n        const flag = matrix.updateFlag;\r\n        if (cache !== undefined && cache === flag) {\r\n            return false;\r\n        }\r\n\r\n        this._valueCache[uniformName] = flag;\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _cacheFloat2(uniformName: string, x: number, y: number): boolean {\r\n        let cache = this._valueCache[uniformName];\r\n        if (!cache || cache.length !== 2) {\r\n            cache = [x, y];\r\n            this._valueCache[uniformName] = cache;\r\n            return true;\r\n        }\r\n\r\n        let changed = false;\r\n        if (cache[0] !== x) {\r\n            cache[0] = x;\r\n            changed = true;\r\n        }\r\n        if (cache[1] !== y) {\r\n            cache[1] = y;\r\n            changed = true;\r\n        }\r\n\r\n        return changed;\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _cacheFloat3(uniformName: string, x: number, y: number, z: number): boolean {\r\n        let cache = this._valueCache[uniformName];\r\n        if (!cache || cache.length !== 3) {\r\n            cache = [x, y, z];\r\n            this._valueCache[uniformName] = cache;\r\n            return true;\r\n        }\r\n\r\n        let changed = false;\r\n        if (cache[0] !== x) {\r\n            cache[0] = x;\r\n            changed = true;\r\n        }\r\n        if (cache[1] !== y) {\r\n            cache[1] = y;\r\n            changed = true;\r\n        }\r\n        if (cache[2] !== z) {\r\n            cache[2] = z;\r\n            changed = true;\r\n        }\r\n\r\n        return changed;\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _cacheFloat4(uniformName: string, x: number, y: number, z: number, w: number): boolean {\r\n        let cache = this._valueCache[uniformName];\r\n        if (!cache || cache.length !== 4) {\r\n            cache = [x, y, z, w];\r\n            this._valueCache[uniformName] = cache;\r\n            return true;\r\n        }\r\n\r\n        let changed = false;\r\n        if (cache[0] !== x) {\r\n            cache[0] = x;\r\n            changed = true;\r\n        }\r\n        if (cache[1] !== y) {\r\n            cache[1] = y;\r\n            changed = true;\r\n        }\r\n        if (cache[2] !== z) {\r\n            cache[2] = z;\r\n            changed = true;\r\n        }\r\n        if (cache[3] !== w) {\r\n            cache[3] = w;\r\n            changed = true;\r\n        }\r\n\r\n        return changed;\r\n    }\r\n\r\n    /**\r\n     * Sets an integer value on a uniform variable.\r\n     * @param uniformName Name of the variable.\r\n     * @param value Value to be set.\r\n     */\r\n    public setInt(uniformName: string, value: number): void {\r\n        const cache = this._valueCache[uniformName];\r\n        if (cache !== undefined && cache === value) {\r\n            return;\r\n        }\r\n\r\n        if (this.engine.setInt(this._uniforms[uniformName], value)) {\r\n            this._valueCache[uniformName] = value;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sets a int2 on a uniform variable.\r\n     * @param uniformName Name of the variable.\r\n     * @param x First int in int2.\r\n     * @param y Second int in int2.\r\n     */\r\n    public setInt2(uniformName: string, x: number, y: number): void {\r\n        if (this._cacheFloat2(uniformName, x, y)) {\r\n            if (!this.engine.setInt2(this._uniforms[uniformName], x, y)) {\r\n                this._valueCache[uniformName] = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sets a int3 on a uniform variable.\r\n     * @param uniformName Name of the variable.\r\n     * @param x First int in int3.\r\n     * @param y Second int in int3.\r\n     * @param z Third int in int3.\r\n     */\r\n    public setInt3(uniformName: string, x: number, y: number, z: number): void {\r\n        if (this._cacheFloat3(uniformName, x, y, z)) {\r\n            if (!this.engine.setInt3(this._uniforms[uniformName], x, y, z)) {\r\n                this._valueCache[uniformName] = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sets a int4 on a uniform variable.\r\n     * @param uniformName Name of the variable.\r\n     * @param x First int in int4.\r\n     * @param y Second int in int4.\r\n     * @param z Third int in int4.\r\n     * @param w Fourth int in int4.\r\n     */\r\n    public setInt4(uniformName: string, x: number, y: number, z: number, w: number): void {\r\n        if (this._cacheFloat4(uniformName, x, y, z, w)) {\r\n            if (!this.engine.setInt4(this._uniforms[uniformName], x, y, z, w)) {\r\n                this._valueCache[uniformName] = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sets an int array on a uniform variable.\r\n     * @param uniformName Name of the variable.\r\n     * @param array array to be set.\r\n     */\r\n    public setIntArray(uniformName: string, array: Int32Array): void {\r\n        this._valueCache[uniformName] = null;\r\n        this.engine.setIntArray(this._uniforms[uniformName], array);\r\n    }\r\n\r\n    /**\r\n     * Sets an int array 2 on a uniform variable. (Array is specified as single array eg. [1,2,3,4] will result in [[1,2],[3,4]] in the shader)\r\n     * @param uniformName Name of the variable.\r\n     * @param array array to be set.\r\n     */\r\n    public setIntArray2(uniformName: string, array: Int32Array): void {\r\n        this._valueCache[uniformName] = null;\r\n        this.engine.setIntArray2(this._uniforms[uniformName], array);\r\n    }\r\n\r\n    /**\r\n     * Sets an int array 3 on a uniform variable. (Array is specified as single array eg. [1,2,3,4,5,6] will result in [[1,2,3],[4,5,6]] in the shader)\r\n     * @param uniformName Name of the variable.\r\n     * @param array array to be set.\r\n     */\r\n    public setIntArray3(uniformName: string, array: Int32Array): void {\r\n        this._valueCache[uniformName] = null;\r\n        this.engine.setIntArray3(this._uniforms[uniformName], array);\r\n    }\r\n\r\n    /**\r\n     * Sets an int array 4 on a uniform variable. (Array is specified as single array eg. [1,2,3,4,5,6,7,8] will result in [[1,2,3,4],[5,6,7,8]] in the shader)\r\n     * @param uniformName Name of the variable.\r\n     * @param array array to be set.\r\n     */\r\n    public setIntArray4(uniformName: string, array: Int32Array): void {\r\n        this._valueCache[uniformName] = null;\r\n        this.engine.setIntArray4(this._uniforms[uniformName], array);\r\n    }\r\n\r\n    /**\r\n     * Sets an unsigned integer value on a uniform variable.\r\n     * @param uniformName Name of the variable.\r\n     * @param value Value to be set.\r\n     */\r\n    public setUInt(uniformName: string, value: number): void {\r\n        const cache = this._valueCache[uniformName];\r\n        if (cache !== undefined && cache === value) {\r\n            return;\r\n        }\r\n\r\n        if (this.engine.setUInt(this._uniforms[uniformName], value)) {\r\n            this._valueCache[uniformName] = value;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sets an unsigned int2 value on a uniform variable.\r\n     * @param uniformName Name of the variable.\r\n     * @param x First unsigned int in uint2.\r\n     * @param y Second unsigned int in uint2.\r\n     */\r\n    public setUInt2(uniformName: string, x: number, y: number): void {\r\n        if (this._cacheFloat2(uniformName, x, y)) {\r\n            if (!this.engine.setUInt2(this._uniforms[uniformName], x, y)) {\r\n                this._valueCache[uniformName] = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sets an unsigned int3 value on a uniform variable.\r\n     * @param uniformName Name of the variable.\r\n     * @param x First unsigned int in uint3.\r\n     * @param y Second unsigned int in uint3.\r\n     * @param z Third unsigned int in uint3.\r\n     */\r\n    public setUInt3(uniformName: string, x: number, y: number, z: number): void {\r\n        if (this._cacheFloat3(uniformName, x, y, z)) {\r\n            if (!this.engine.setUInt3(this._uniforms[uniformName], x, y, z)) {\r\n                this._valueCache[uniformName] = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sets an unsigned int4 value on a uniform variable.\r\n     * @param uniformName Name of the variable.\r\n     * @param x First unsigned int in uint4.\r\n     * @param y Second unsigned int in uint4.\r\n     * @param z Third unsigned int in uint4.\r\n     * @param w Fourth unsigned int in uint4.\r\n     */\r\n    public setUInt4(uniformName: string, x: number, y: number, z: number, w: number): void {\r\n        if (this._cacheFloat4(uniformName, x, y, z, w)) {\r\n            if (!this.engine.setUInt4(this._uniforms[uniformName], x, y, z, w)) {\r\n                this._valueCache[uniformName] = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sets an unsigned int array on a uniform variable.\r\n     * @param uniformName Name of the variable.\r\n     * @param array array to be set.\r\n     */\r\n    public setUIntArray(uniformName: string, array: Uint32Array): void {\r\n        this._valueCache[uniformName] = null;\r\n        this.engine.setUIntArray(this._uniforms[uniformName], array);\r\n    }\r\n\r\n    /**\r\n     * Sets an unsigned int array 2 on a uniform variable. (Array is specified as single array eg. [1,2,3,4] will result in [[1,2],[3,4]] in the shader)\r\n     * @param uniformName Name of the variable.\r\n     * @param array array to be set.\r\n     */\r\n    public setUIntArray2(uniformName: string, array: Uint32Array): void {\r\n        this._valueCache[uniformName] = null;\r\n        this.engine.setUIntArray2(this._uniforms[uniformName], array);\r\n    }\r\n\r\n    /**\r\n     * Sets an unsigned int array 3 on a uniform variable. (Array is specified as single array eg. [1,2,3,4,5,6] will result in [[1,2,3],[4,5,6]] in the shader)\r\n     * @param uniformName Name of the variable.\r\n     * @param array array to be set.\r\n     */\r\n    public setUIntArray3(uniformName: string, array: Uint32Array): void {\r\n        this._valueCache[uniformName] = null;\r\n        this.engine.setUIntArray3(this._uniforms[uniformName], array);\r\n    }\r\n\r\n    /**\r\n     * Sets an unsigned int array 4 on a uniform variable. (Array is specified as single array eg. [1,2,3,4,5,6,7,8] will result in [[1,2,3,4],[5,6,7,8]] in the shader)\r\n     * @param uniformName Name of the variable.\r\n     * @param array array to be set.\r\n     */\r\n    public setUIntArray4(uniformName: string, array: Uint32Array): void {\r\n        this._valueCache[uniformName] = null;\r\n        this.engine.setUIntArray4(this._uniforms[uniformName], array);\r\n    }\r\n\r\n    /**\r\n     * Sets an array on a uniform variable.\r\n     * @param uniformName Name of the variable.\r\n     * @param array array to be set.\r\n     */\r\n    public setArray(uniformName: string, array: number[]): void {\r\n        this._valueCache[uniformName] = null;\r\n        this.engine.setArray(this._uniforms[uniformName], array);\r\n    }\r\n\r\n    /**\r\n     * Sets an array 2 on a uniform variable. (Array is specified as single array eg. [1,2,3,4] will result in [[1,2],[3,4]] in the shader)\r\n     * @param uniformName Name of the variable.\r\n     * @param array array to be set.\r\n     */\r\n    public setArray2(uniformName: string, array: number[]): void {\r\n        this._valueCache[uniformName] = null;\r\n        this.engine.setArray2(this._uniforms[uniformName], array);\r\n    }\r\n\r\n    /**\r\n     * Sets an array 3 on a uniform variable. (Array is specified as single array eg. [1,2,3,4,5,6] will result in [[1,2,3],[4,5,6]] in the shader)\r\n     * @param uniformName Name of the variable.\r\n     * @param array array to be set.\r\n     * @returns this effect.\r\n     */\r\n    public setArray3(uniformName: string, array: number[]): void {\r\n        this._valueCache[uniformName] = null;\r\n        this.engine.setArray3(this._uniforms[uniformName], array);\r\n    }\r\n\r\n    /**\r\n     * Sets an array 4 on a uniform variable. (Array is specified as single array eg. [1,2,3,4,5,6,7,8] will result in [[1,2,3,4],[5,6,7,8]] in the shader)\r\n     * @param uniformName Name of the variable.\r\n     * @param array array to be set.\r\n     */\r\n    public setArray4(uniformName: string, array: number[]): void {\r\n        this._valueCache[uniformName] = null;\r\n        this.engine.setArray4(this._uniforms[uniformName], array);\r\n    }\r\n\r\n    /**\r\n     * Sets matrices on a uniform variable.\r\n     * @param uniformName Name of the variable.\r\n     * @param matrices matrices to be set.\r\n     */\r\n    public setMatrices(uniformName: string, matrices: Float32Array): void {\r\n        if (!matrices) {\r\n            return;\r\n        }\r\n\r\n        this._valueCache[uniformName] = null;\r\n        this.engine.setMatrices(this._uniforms[uniformName], matrices);\r\n    }\r\n\r\n    /**\r\n     * Sets matrix on a uniform variable.\r\n     * @param uniformName Name of the variable.\r\n     * @param matrix matrix to be set.\r\n     */\r\n    public setMatrix(uniformName: string, matrix: IMatrixLike): void {\r\n        if (this._cacheMatrix(uniformName, matrix)) {\r\n            if (!this.engine.setMatrices(this._uniforms[uniformName], matrix.toArray() as Float32Array)) {\r\n                this._valueCache[uniformName] = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sets a 3x3 matrix on a uniform variable. (Specified as [1,2,3,4,5,6,7,8,9] will result in [1,2,3][4,5,6][7,8,9] matrix)\r\n     * @param uniformName Name of the variable.\r\n     * @param matrix matrix to be set.\r\n     */\r\n    public setMatrix3x3(uniformName: string, matrix: Float32Array): void {\r\n        this._valueCache[uniformName] = null;\r\n        this.engine.setMatrix3x3(this._uniforms[uniformName], matrix);\r\n    }\r\n\r\n    /**\r\n     * Sets a 2x2 matrix on a uniform variable. (Specified as [1,2,3,4] will result in [1,2][3,4] matrix)\r\n     * @param uniformName Name of the variable.\r\n     * @param matrix matrix to be set.\r\n     */\r\n    public setMatrix2x2(uniformName: string, matrix: Float32Array): void {\r\n        this._valueCache[uniformName] = null;\r\n        this.engine.setMatrix2x2(this._uniforms[uniformName], matrix);\r\n    }\r\n\r\n    /**\r\n     * Sets a float on a uniform variable.\r\n     * @param uniformName Name of the variable.\r\n     * @param value value to be set.\r\n     * @returns this effect.\r\n     */\r\n    public setFloat(uniformName: string, value: number): void {\r\n        const cache = this._valueCache[uniformName];\r\n        if (cache !== undefined && cache === value) {\r\n            return;\r\n        }\r\n\r\n        if (this.engine.setFloat(this._uniforms[uniformName], value)) {\r\n            this._valueCache[uniformName] = value;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sets a Vector2 on a uniform variable.\r\n     * @param uniformName Name of the variable.\r\n     * @param vector2 vector2 to be set.\r\n     */\r\n    public setVector2(uniformName: string, vector2: IVector2Like): void {\r\n        if (this._cacheFloat2(uniformName, vector2.x, vector2.y)) {\r\n            if (!this.engine.setFloat2(this._uniforms[uniformName], vector2.x, vector2.y)) {\r\n                this._valueCache[uniformName] = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sets a float2 on a uniform variable.\r\n     * @param uniformName Name of the variable.\r\n     * @param x First float in float2.\r\n     * @param y Second float in float2.\r\n     */\r\n    public setFloat2(uniformName: string, x: number, y: number): void {\r\n        if (this._cacheFloat2(uniformName, x, y)) {\r\n            if (!this.engine.setFloat2(this._uniforms[uniformName], x, y)) {\r\n                this._valueCache[uniformName] = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sets a Vector3 on a uniform variable.\r\n     * @param uniformName Name of the variable.\r\n     * @param vector3 Value to be set.\r\n     */\r\n    public setVector3(uniformName: string, vector3: IVector3Like): void {\r\n        if (this._cacheFloat3(uniformName, vector3.x, vector3.y, vector3.z)) {\r\n            if (!this.engine.setFloat3(this._uniforms[uniformName], vector3.x, vector3.y, vector3.z)) {\r\n                this._valueCache[uniformName] = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sets a float3 on a uniform variable.\r\n     * @param uniformName Name of the variable.\r\n     * @param x First float in float3.\r\n     * @param y Second float in float3.\r\n     * @param z Third float in float3.\r\n     */\r\n    public setFloat3(uniformName: string, x: number, y: number, z: number): void {\r\n        if (this._cacheFloat3(uniformName, x, y, z)) {\r\n            if (!this.engine.setFloat3(this._uniforms[uniformName], x, y, z)) {\r\n                this._valueCache[uniformName] = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sets a Vector4 on a uniform variable.\r\n     * @param uniformName Name of the variable.\r\n     * @param vector4 Value to be set.\r\n     */\r\n    public setVector4(uniformName: string, vector4: IVector4Like): void {\r\n        if (this._cacheFloat4(uniformName, vector4.x, vector4.y, vector4.z, vector4.w)) {\r\n            if (!this.engine.setFloat4(this._uniforms[uniformName], vector4.x, vector4.y, vector4.z, vector4.w)) {\r\n                this._valueCache[uniformName] = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sets a Quaternion on a uniform variable.\r\n     * @param uniformName Name of the variable.\r\n     * @param quaternion Value to be set.\r\n     */\r\n    public setQuaternion(uniformName: string, quaternion: IQuaternionLike): void {\r\n        if (this._cacheFloat4(uniformName, quaternion.x, quaternion.y, quaternion.z, quaternion.w)) {\r\n            if (!this.engine.setFloat4(this._uniforms[uniformName], quaternion.x, quaternion.y, quaternion.z, quaternion.w)) {\r\n                this._valueCache[uniformName] = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sets a float4 on a uniform variable.\r\n     * @param uniformName Name of the variable.\r\n     * @param x First float in float4.\r\n     * @param y Second float in float4.\r\n     * @param z Third float in float4.\r\n     * @param w Fourth float in float4.\r\n     * @returns this effect.\r\n     */\r\n    public setFloat4(uniformName: string, x: number, y: number, z: number, w: number): void {\r\n        if (this._cacheFloat4(uniformName, x, y, z, w)) {\r\n            if (!this.engine.setFloat4(this._uniforms[uniformName], x, y, z, w)) {\r\n                this._valueCache[uniformName] = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sets a Color3 on a uniform variable.\r\n     * @param uniformName Name of the variable.\r\n     * @param color3 Value to be set.\r\n     */\r\n    public setColor3(uniformName: string, color3: IColor3Like): void {\r\n        if (this._cacheFloat3(uniformName, color3.r, color3.g, color3.b)) {\r\n            if (!this.engine.setFloat3(this._uniforms[uniformName], color3.r, color3.g, color3.b)) {\r\n                this._valueCache[uniformName] = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sets a Color4 on a uniform variable.\r\n     * @param uniformName Name of the variable.\r\n     * @param color3 Value to be set.\r\n     * @param alpha Alpha value to be set.\r\n     */\r\n    public setColor4(uniformName: string, color3: IColor3Like, alpha: number): void {\r\n        if (this._cacheFloat4(uniformName, color3.r, color3.g, color3.b, alpha)) {\r\n            if (!this.engine.setFloat4(this._uniforms[uniformName], color3.r, color3.g, color3.b, alpha)) {\r\n                this._valueCache[uniformName] = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sets a Color4 on a uniform variable\r\n     * @param uniformName defines the name of the variable\r\n     * @param color4 defines the value to be set\r\n     */\r\n    public setDirectColor4(uniformName: string, color4: IColor4Like): void {\r\n        if (this._cacheFloat4(uniformName, color4.r, color4.g, color4.b, color4.a)) {\r\n            if (!this.engine.setFloat4(this._uniforms[uniformName], color4.r, color4.g, color4.b, color4.a)) {\r\n                this._valueCache[uniformName] = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    public _getVertexShaderCode(): string | null {\r\n        return this.vertexShader ? this.engine._getShaderSource(this.vertexShader) : null;\r\n    }\r\n\r\n    public _getFragmentShaderCode(): string | null {\r\n        return this.fragmentShader ? this.engine._getShaderSource(this.fragmentShader) : null;\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}